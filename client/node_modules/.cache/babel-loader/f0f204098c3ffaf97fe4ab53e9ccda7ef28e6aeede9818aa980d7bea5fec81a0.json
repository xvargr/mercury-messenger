{"ast":null,"code":"var _jsxFileName = \"/home/agreus/Documents/webdev/mercury-messenger/client/src/components/forms/JoinByInvite.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\n// import ui\nimport CardFloat from \"../ui/CardFloat\";\nimport CircleButton from \"../ui/CircleButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction NewGroupForm(props) {\n  _s();\n  const [inpErr, setInpErr] = useState(true);\n  const [feedback, setFeedback] = useState(\"Enter invite code\");\n  const [buttonStatus, setButtonStatus] = useState(\"error\");\n  const inpRef = useRef();\n  useEffect(() => {\n    if (props.err.message && feedback !== props.err.message) {\n      setFeedback(props.err.message);\n      setButtonStatus(\"error\");\n      setInpErr(true);\n      inpRef.current.value = \"\";\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.err]);\n  function onChangeHandler(e) {\n    const idRegex = /\\/g\\/[a-f\\d]{24}\\/join/;\n    if (idRegex.test(e.target.value)) {\n      setButtonStatus(\"ok\");\n      setInpErr(false);\n    } else {\n      setButtonStatus(\"error\");\n      setInpErr(true);\n    }\n  }\n  function submitHandler(e) {\n    e.preventDefault();\n    if (!inpErr) {\n      setButtonStatus(\"submitted\");\n      props.onJoinGroup(inpRef.current.value);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(CardFloat, {\n    className: \"w-full md:w-3/4 md:max-w-2xl md:-mt-16\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-mexican-red-600 mb-3 ml-1 font-montserrat font-semibold\",\n        children: \"Join by invite code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-lg font-medium text-gray-400 sr-only\",\n          htmlFor: \"link\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"link\",\n          id: \"link\",\n          placeholder: feedback,\n          autoComplete: \"off\",\n          className: \"bg-gray-700 p-2 m-1 w-10/12 rounded-md text-sm drop-shadow-md text-grey-500 file:mr-5 file:py-2 file:px-10 file:rounded-md file:border-0 file:text-md file:font-semibold file:text-gray-300 file:bg-gray-500 hover:file:cursor-pointer hover:file:opacity-80 hover:bg-gray-600 transition-colors duration-75 ease-in outline-none\",\n          onChange: onChangeHandler,\n          required: true,\n          ref: inpRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CircleButton, {\n          status: buttonStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(NewGroupForm, \"wh1VDr0ZMKiNXaQmVPBrYVjx2uA=\");\n_c = NewGroupForm;\nexport default NewGroupForm;\nvar _c;\n$RefreshReg$(_c, \"NewGroupForm\");","map":{"version":3,"names":["useState","useEffect","useRef","CardFloat","CircleButton","NewGroupForm","props","inpErr","setInpErr","feedback","setFeedback","buttonStatus","setButtonStatus","inpRef","err","message","current","value","onChangeHandler","e","idRegex","test","target","submitHandler","preventDefault","onJoinGroup"],"sources":["/home/agreus/Documents/webdev/mercury-messenger/client/src/components/forms/JoinByInvite.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\n// import ui\nimport CardFloat from \"../ui/CardFloat\";\nimport CircleButton from \"../ui/CircleButton\";\n\nfunction NewGroupForm(props) {\n  const [inpErr, setInpErr] = useState(true);\n  const [feedback, setFeedback] = useState(\"Enter invite code\");\n  const [buttonStatus, setButtonStatus] = useState(\"error\");\n  const inpRef = useRef();\n\n  useEffect(() => {\n    if (props.err.message && feedback !== props.err.message) {\n      setFeedback(props.err.message);\n      setButtonStatus(\"error\");\n      setInpErr(true);\n\n      inpRef.current.value = \"\";\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.err]);\n\n  function onChangeHandler(e) {\n    const idRegex = /\\/g\\/[a-f\\d]{24}\\/join/;\n    if (idRegex.test(e.target.value)) {\n      setButtonStatus(\"ok\");\n      setInpErr(false);\n    } else {\n      setButtonStatus(\"error\");\n      setInpErr(true);\n    }\n  }\n\n  function submitHandler(e) {\n    e.preventDefault();\n    if (!inpErr) {\n      setButtonStatus(\"submitted\");\n      props.onJoinGroup(inpRef.current.value);\n    }\n  }\n\n  return (\n    <CardFloat className=\"w-full md:w-3/4 md:max-w-2xl md:-mt-16\">\n      <form onSubmit={submitHandler}>\n        <div className=\"text-mexican-red-600 mb-3 ml-1 font-montserrat font-semibold\">\n          Join by invite code\n        </div>\n        <div className=\"flex justify-between items-center\">\n          <label\n            className=\"text-lg font-medium text-gray-400 sr-only\"\n            htmlFor=\"link\"\n          ></label>\n          <input\n            type=\"text\"\n            name=\"link\"\n            id=\"link\"\n            placeholder={feedback}\n            autoComplete=\"off\"\n            className=\"bg-gray-700 p-2 m-1 w-10/12 rounded-md text-sm drop-shadow-md text-grey-500 file:mr-5 file:py-2 file:px-10 file:rounded-md file:border-0 file:text-md file:font-semibold file:text-gray-300 file:bg-gray-500 hover:file:cursor-pointer hover:file:opacity-80 hover:bg-gray-600 transition-colors duration-75 ease-in outline-none\"\n            onChange={onChangeHandler}\n            required\n            ref={inpRef}\n          />\n          <CircleButton status={buttonStatus}></CircleButton>\n        </div>\n      </form>\n    </CardFloat>\n  );\n}\n\nexport default NewGroupForm;\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACnD;AACA,OAAOC,SAAS,MAAM,iBAAiB;AACvC,OAAOC,YAAY,MAAM,oBAAoB;AAAC;AAE9C,SAASC,YAAY,CAACC,KAAK,EAAE;EAAA;EAC3B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,mBAAmB,CAAC;EAC7D,MAAM,CAACW,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,OAAO,CAAC;EACzD,MAAMa,MAAM,GAAGX,MAAM,EAAE;EAEvBD,SAAS,CAAC,MAAM;IACd,IAAIK,KAAK,CAACQ,GAAG,CAACC,OAAO,IAAIN,QAAQ,KAAKH,KAAK,CAACQ,GAAG,CAACC,OAAO,EAAE;MACvDL,WAAW,CAACJ,KAAK,CAACQ,GAAG,CAACC,OAAO,CAAC;MAC9BH,eAAe,CAAC,OAAO,CAAC;MACxBJ,SAAS,CAAC,IAAI,CAAC;MAEfK,MAAM,CAACG,OAAO,CAACC,KAAK,GAAG,EAAE;IAC3B;IACA;EACF,CAAC,EAAE,CAACX,KAAK,CAACQ,GAAG,CAAC,CAAC;EAEf,SAASI,eAAe,CAACC,CAAC,EAAE;IAC1B,MAAMC,OAAO,GAAG,wBAAwB;IACxC,IAAIA,OAAO,CAACC,IAAI,CAACF,CAAC,CAACG,MAAM,CAACL,KAAK,CAAC,EAAE;MAChCL,eAAe,CAAC,IAAI,CAAC;MACrBJ,SAAS,CAAC,KAAK,CAAC;IAClB,CAAC,MAAM;MACLI,eAAe,CAAC,OAAO,CAAC;MACxBJ,SAAS,CAAC,IAAI,CAAC;IACjB;EACF;EAEA,SAASe,aAAa,CAACJ,CAAC,EAAE;IACxBA,CAAC,CAACK,cAAc,EAAE;IAClB,IAAI,CAACjB,MAAM,EAAE;MACXK,eAAe,CAAC,WAAW,CAAC;MAC5BN,KAAK,CAACmB,WAAW,CAACZ,MAAM,CAACG,OAAO,CAACC,KAAK,CAAC;IACzC;EACF;EAEA,oBACE,QAAC,SAAS;IAAC,SAAS,EAAC,wCAAwC;IAAA,uBAC3D;MAAM,QAAQ,EAAEM,aAAc;MAAA,wBAC5B;QAAK,SAAS,EAAC,8DAA8D;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAEvE,eACN;QAAK,SAAS,EAAC,mCAAmC;QAAA,wBAChD;UACE,SAAS,EAAC,2CAA2C;UACrD,OAAO,EAAC;QAAM;UAAA;UAAA;UAAA;QAAA,QACP,eACT;UACE,IAAI,EAAC,MAAM;UACX,IAAI,EAAC,MAAM;UACX,EAAE,EAAC,MAAM;UACT,WAAW,EAAEd,QAAS;UACtB,YAAY,EAAC,KAAK;UAClB,SAAS,EAAC,mUAAmU;UAC7U,QAAQ,EAAES,eAAgB;UAC1B,QAAQ;UACR,GAAG,EAAEL;QAAO;UAAA;UAAA;UAAA;QAAA,QACZ,eACF,QAAC,YAAY;UAAC,MAAM,EAAEF;QAAa;UAAA;UAAA;UAAA;QAAA,QAAgB;MAAA;QAAA;QAAA;QAAA;MAAA,QAC/C;IAAA;MAAA;MAAA;MAAA;IAAA;EACD;IAAA;IAAA;IAAA;EAAA,QACG;AAEhB;AAAC,GA/DQN,YAAY;AAAA,KAAZA,YAAY;AAiErB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}