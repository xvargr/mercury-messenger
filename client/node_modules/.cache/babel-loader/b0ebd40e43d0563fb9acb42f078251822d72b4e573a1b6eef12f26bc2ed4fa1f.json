{"ast":null,"code":"import _slicedToArray from\"/home/agreus/Documents/webdev/mercury-messenger/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from\"react\";// import ui\nimport CardFloat from\"../ui/CardFloat\";import CircleButton from\"../ui/CircleButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewGroupForm(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),inpErr=_useState2[0],setInpErr=_useState2[1];var _useState3=useState(\"Enter invite code\"),_useState4=_slicedToArray(_useState3,2),feedback=_useState4[0],setFeedback=_useState4[1];var _useState5=useState(\"error\"),_useState6=_slicedToArray(_useState5,2),buttonStatus=_useState6[0],setButtonStatus=_useState6[1];var inpRef=useRef();useEffect(function(){if(props.err.message&&feedback!==props.err.message){setFeedback(props.err.message);setButtonStatus(\"error\");setInpErr(true);inpRef.current.value=\"\";}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[props.err]);function onChangeHandler(e){var idRegex=/\\/g\\/[a-f\\d]{24}\\/join/;if(idRegex.test(e.target.value)){setButtonStatus(\"ok\");setInpErr(false);}else{setButtonStatus(\"error\");setInpErr(true);}}function submitHandler(e){e.preventDefault();if(!inpErr){setButtonStatus(\"submitted\");props.onJoinGroup(inpRef.current.value);}}return/*#__PURE__*/_jsx(CardFloat,{className:\"w-full md:w-3/4 md:max-w-2xl md:-mt-16\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-mexican-red-600 mb-3 ml-1 font-montserrat font-semibold\",children:\"Join by invite code\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-lg font-medium text-gray-400 sr-only\",htmlFor:\"link\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"link\",id:\"link\",placeholder:feedback,autoComplete:\"off\",className:\"bg-gray-700 p-2 m-1 w-10/12 rounded-md text-sm drop-shadow-md text-grey-500 file:mr-5 file:py-2 file:px-10 file:rounded-md file:border-0 file:text-md file:font-semibold file:text-gray-300 file:bg-gray-500 hover:file:cursor-pointer hover:file:opacity-80 hover:bg-gray-600 transition-colors duration-75 ease-in outline-none\",onChange:onChangeHandler,required:true,ref:inpRef}),/*#__PURE__*/_jsx(CircleButton,{status:buttonStatus})]})]})});}export default NewGroupForm;","map":{"version":3,"names":["useState","useEffect","useRef","CardFloat","CircleButton","NewGroupForm","props","inpErr","setInpErr","feedback","setFeedback","buttonStatus","setButtonStatus","inpRef","err","message","current","value","onChangeHandler","e","idRegex","test","target","submitHandler","preventDefault","onJoinGroup"],"sources":["/home/agreus/Documents/webdev/mercury-messenger/client/src/components/forms/JoinByInvite.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\n// import ui\nimport CardFloat from \"../ui/CardFloat\";\nimport CircleButton from \"../ui/CircleButton\";\n\nfunction NewGroupForm(props) {\n  const [inpErr, setInpErr] = useState(true);\n  const [feedback, setFeedback] = useState(\"Enter invite code\");\n  const [buttonStatus, setButtonStatus] = useState(\"error\");\n  const inpRef = useRef();\n\n  useEffect(() => {\n    if (props.err.message && feedback !== props.err.message) {\n      setFeedback(props.err.message);\n      setButtonStatus(\"error\");\n      setInpErr(true);\n\n      inpRef.current.value = \"\";\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.err]);\n\n  function onChangeHandler(e) {\n    const idRegex = /\\/g\\/[a-f\\d]{24}\\/join/;\n    if (idRegex.test(e.target.value)) {\n      setButtonStatus(\"ok\");\n      setInpErr(false);\n    } else {\n      setButtonStatus(\"error\");\n      setInpErr(true);\n    }\n  }\n\n  function submitHandler(e) {\n    e.preventDefault();\n    if (!inpErr) {\n      setButtonStatus(\"submitted\");\n      props.onJoinGroup(inpRef.current.value);\n    }\n  }\n\n  return (\n    <CardFloat className=\"w-full md:w-3/4 md:max-w-2xl md:-mt-16\">\n      <form onSubmit={submitHandler}>\n        <div className=\"text-mexican-red-600 mb-3 ml-1 font-montserrat font-semibold\">\n          Join by invite code\n        </div>\n        <div className=\"flex justify-between items-center\">\n          <label\n            className=\"text-lg font-medium text-gray-400 sr-only\"\n            htmlFor=\"link\"\n          ></label>\n          <input\n            type=\"text\"\n            name=\"link\"\n            id=\"link\"\n            placeholder={feedback}\n            autoComplete=\"off\"\n            className=\"bg-gray-700 p-2 m-1 w-10/12 rounded-md text-sm drop-shadow-md text-grey-500 file:mr-5 file:py-2 file:px-10 file:rounded-md file:border-0 file:text-md file:font-semibold file:text-gray-300 file:bg-gray-500 hover:file:cursor-pointer hover:file:opacity-80 hover:bg-gray-600 transition-colors duration-75 ease-in outline-none\"\n            onChange={onChangeHandler}\n            required\n            ref={inpRef}\n          />\n          <CircleButton status={buttonStatus}></CircleButton>\n        </div>\n      </form>\n    </CardFloat>\n  );\n}\n\nexport default NewGroupForm;\n"],"mappings":"4IAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CACnD;AACA,MAAOC,UAAS,KAAM,iBAAiB,CACvC,MAAOC,aAAY,KAAM,oBAAoB,CAAC,wFAE9C,QAASC,aAAY,CAACC,KAAK,CAAE,CAC3B,cAA4BN,QAAQ,CAAC,IAAI,CAAC,wCAAnCO,MAAM,eAAEC,SAAS,eACxB,eAAgCR,QAAQ,CAAC,mBAAmB,CAAC,yCAAtDS,QAAQ,eAAEC,WAAW,eAC5B,eAAwCV,QAAQ,CAAC,OAAO,CAAC,yCAAlDW,YAAY,eAAEC,eAAe,eACpC,GAAMC,OAAM,CAAGX,MAAM,EAAE,CAEvBD,SAAS,CAAC,UAAM,CACd,GAAIK,KAAK,CAACQ,GAAG,CAACC,OAAO,EAAIN,QAAQ,GAAKH,KAAK,CAACQ,GAAG,CAACC,OAAO,CAAE,CACvDL,WAAW,CAACJ,KAAK,CAACQ,GAAG,CAACC,OAAO,CAAC,CAC9BH,eAAe,CAAC,OAAO,CAAC,CACxBJ,SAAS,CAAC,IAAI,CAAC,CAEfK,MAAM,CAACG,OAAO,CAACC,KAAK,CAAG,EAAE,CAC3B,CACA;AACF,CAAC,CAAE,CAACX,KAAK,CAACQ,GAAG,CAAC,CAAC,CAEf,QAASI,gBAAe,CAACC,CAAC,CAAE,CAC1B,GAAMC,QAAO,CAAG,wBAAwB,CACxC,GAAIA,OAAO,CAACC,IAAI,CAACF,CAAC,CAACG,MAAM,CAACL,KAAK,CAAC,CAAE,CAChCL,eAAe,CAAC,IAAI,CAAC,CACrBJ,SAAS,CAAC,KAAK,CAAC,CAClB,CAAC,IAAM,CACLI,eAAe,CAAC,OAAO,CAAC,CACxBJ,SAAS,CAAC,IAAI,CAAC,CACjB,CACF,CAEA,QAASe,cAAa,CAACJ,CAAC,CAAE,CACxBA,CAAC,CAACK,cAAc,EAAE,CAClB,GAAI,CAACjB,MAAM,CAAE,CACXK,eAAe,CAAC,WAAW,CAAC,CAC5BN,KAAK,CAACmB,WAAW,CAACZ,MAAM,CAACG,OAAO,CAACC,KAAK,CAAC,CACzC,CACF,CAEA,mBACE,KAAC,SAAS,EAAC,SAAS,CAAC,wCAAwC,uBAC3D,cAAM,QAAQ,CAAEM,aAAc,wBAC5B,YAAK,SAAS,CAAC,8DAA8D,iCAEvE,cACN,aAAK,SAAS,CAAC,mCAAmC,wBAChD,cACE,SAAS,CAAC,2CAA2C,CACrD,OAAO,CAAC,MAAM,EACP,cACT,cACE,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,MAAM,CACX,EAAE,CAAC,MAAM,CACT,WAAW,CAAEd,QAAS,CACtB,YAAY,CAAC,KAAK,CAClB,SAAS,CAAC,mUAAmU,CAC7U,QAAQ,CAAES,eAAgB,CAC1B,QAAQ,MACR,GAAG,CAAEL,MAAO,EACZ,cACF,KAAC,YAAY,EAAC,MAAM,CAAEF,YAAa,EAAgB,GAC/C,GACD,EACG,CAEhB,CAEA,cAAeN,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}