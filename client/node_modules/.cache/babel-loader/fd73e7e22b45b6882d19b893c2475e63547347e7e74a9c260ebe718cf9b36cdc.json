{"ast":null,"code":"var _jsxFileName = \"/home/agreus/Documents/webdev/mercury-messenger/client/src/components/chat/ChatInputBox.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { useRef, useState, useEffect, forwardRef, useContext } from \"react\";\nimport moment from \"moment/moment\";\n\n// svg\nimport { AtSymbolIcon, CameraIcon, XIcon, PaperAirplaneIcon, CheckIcon, ReplyIcon } from \"@heroicons/react/outline\";\n\n// context\nimport { ReplyContext } from \"../context/RepliesContext\";\n\n// components\nimport { MentionsSelector } from \"../../utils/iterableComponents\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AttachImageButton = /*#__PURE__*/forwardRef(_c = function AttachImageButton(props, ref) {\n  return /*#__PURE__*/_jsxDEV(\"label\", {\n    className: \"mx-1\",\n    children: [/*#__PURE__*/_jsxDEV(CameraIcon, {\n      className: \"h-6 w-6 text-gray-800 hover:text-gray-700 cursor-pointer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      name: \"chatImage\",\n      id: \"chatImage\",\n      className: \"sr-only\",\n      accept: \".jpg, .jpeg, .png, .gif\",\n      onChange: e => {\n        props.validate({\n          field: \"file\",\n          input: e.target.files[0]\n        });\n        props.onChange(e);\n      },\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n});\n_c2 = AttachImageButton;\nfunction AddMentionsButton(props) {\n  _s();\n  const {\n    passSelection\n  } = props;\n  const [expanded, setExpanded] = useState(false);\n  const [selectedMembers, setSelectedMembers] = useState([]);\n  const {\n    getReply\n  } = useContext(ReplyContext);\n  function addSelection(id) {\n    setSelectedMembers(prevData => {\n      const dataCopy = [...prevData];\n      dataCopy.push(id);\n      return dataCopy;\n    });\n  }\n  function removeSelection(id) {\n    setSelectedMembers(prevData => {\n      const dataCopy = [...prevData];\n      dataCopy.push(id);\n      return dataCopy.filter(selectedId => selectedId !== id);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!expanded || /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `h-[8.25rem] w-1/2 min-w-[10rem] p-1 absolute ${getReply ? \"-top-[10.25rem]\" : \"-top-[8.75rem]\"} left-0 bg-gray-500 backdrop-blur-sm bg-opacity-70 rounded-lg shadow-md flex flex-col overflow-hidden`,\n      children: [/*#__PURE__*/_jsxDEV(MentionsSelector, {\n        selectedMembers: selectedMembers,\n        onSelect: addSelection,\n        onDeselect: removeSelection\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CheckIcon, {\n        className: \"w-7 absolute bottom-0 right-0 p-0.5 bg-green-500 text-gray-700 rounded-tl-xl hover:bg-green-400 cursor-pointer\",\n        onClick: () => {\n          passSelection(selectedMembers);\n          setExpanded(false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: /*#__PURE__*/_jsxDEV(AtSymbolIcon, {\n        className: \"h-6 w-6 mr-2 text-gray-800 hover:text-gray-700 cursor-pointer\",\n        onClick: () => {\n          if (expanded) passSelection(selectedMembers);\n          setExpanded(!expanded);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(AddMentionsButton, \"Ixt2k7pIprd6YbxqiVyIveooMXA=\");\n_c3 = AddMentionsButton;\nfunction SubmitButton(props) {\n  _s2();\n  const {\n    onClick,\n    errorState\n  } = props;\n  const [errorOpacity, setErrorOpacity] = useState(\"opacity-0\");\n  const [submitButtonStyle, setSubmitButtonStyle] = useState();\n  const [lastError, setLastError] = useState();\n  useEffect(() => {\n    if (errorState.fileError || errorState.textError) {\n      setErrorOpacity(\"opacity-100\");\n      setSubmitButtonStyle(\"text-mexican-red-600 opacity-70\");\n      setLastError(errorState.textError || errorState.fileError);\n    } else {\n      setErrorOpacity(\"opacity-0\");\n      setSubmitButtonStyle(\"text-gray-800 hover:text-gray-700 cursor-pointer\");\n    }\n  }, [errorState]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {\n      className: `${submitButtonStyle} h-6 w-6 shrink-0 rotate-90`,\n      onClick: onClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${errorOpacity} h-8 p-1 absolute right-5 -top-10 bg-mexican-red-500 text-gray-200 font-semibold rounded-lg rounded-br-none shadow-md overflow-clip transition-opacity duration-200 ease-in`,\n      children: lastError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s2(SubmitButton, \"l5eS5VLjHYkcrIexNgdiiz1ZfD4=\");\n_c4 = SubmitButton;\nfunction ChatInputBox(props) {\n  _s3();\n  const [imageAttached, setImageAttached] = useState(false);\n  const [imageLoading, setImageLoading] = useState(true);\n  const [inputError, setInputError] = useState({\n    textError: null,\n    fileError: null\n  });\n  const [mentionsArray, setMentionsArray] = useState([]);\n  const {\n    getReply,\n    clearReply\n  } = useContext(ReplyContext);\n  const textRef = useRef();\n  const fileRef = useRef();\n  const imagePreviewRef = useRef();\n  useEffect(() => {\n    if (window.innerWidth >= 768) textRef.current.focus();\n  }, []);\n\n  // eslint-disable-next-line\n  useEffect(() => {\n    if (fileRef.current.value) setImageAttached(true);else setImageAttached(false);\n  });\n  function returnMessageData(e) {\n    e.preventDefault();\n    const noError = !inputError.textError && !inputError.fileError;\n    const formHasContent = textRef.current.value.length || fileRef.current.value;\n    if (formHasContent && noError) {\n      const messageData = {\n        mentions: mentionsArray,\n        reply: (getReply === null || getReply === void 0 ? void 0 : getReply.clusterId) || null,\n        text: textRef.current.value || null,\n        file: fileRef.current.files[0] || null,\n        dateString: moment().format(),\n        timestamp: Date.now()\n      };\n      textRef.current.value = null;\n      fileRef.current.value = null;\n      setMentionsArray([]);\n      clearReply();\n      props.return(messageData);\n    }\n  }\n  function validateInput(params) {\n    const {\n      field,\n      input\n    } = params;\n    if (field === \"text\") {\n      setInputError(prevData => {\n        const dataCopy = {\n          ...prevData\n        };\n        if (input.length > 250) {\n          dataCopy.textError = \"Message exceeds 250 characters\";\n        } else {\n          dataCopy.textError = null;\n        }\n        return dataCopy;\n      });\n    }\n    if (field === \"file\") {\n      setInputError(prevData => {\n        const dataCopy = {\n          ...prevData\n        };\n        if (input.size > 3e6) {\n          dataCopy.fileError = \"File exceeds 3MB\";\n        } else {\n          dataCopy.fileError = null;\n        }\n        return dataCopy;\n      });\n    }\n  }\n  function updateImageInput(e) {\n    const selectedImage = e.target.files[0];\n    setImageLoading(true);\n    if (selectedImage) {\n      const fileReader = new FileReader();\n      fileReader.onload = e => {\n        imagePreviewRef.current = {\n          image: e.target.result,\n          filename: selectedImage.name\n        };\n        setImageLoading(false);\n      };\n      fileReader.readAsDataURL(e.target.files[0]);\n    }\n  }\n  function BlurBackdrop() {\n    let blurHeight;\n    if (imageAttached) blurHeight = \"h-[16rem]\";else blurHeight = \"h-[14%] max-h-32\";\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-full ml-2  ${blurHeight} backdrop-blur-sm bottom-0 -left-2 absolute pointer-events-none blurMask45`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-full ml-2 ${blurHeight} bg-gray-600 bottom-0 -left-2 absolute pointer-events-none blurMask70`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n  function ReplyBar() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-6 px-2 bg-gray-500 rounded-t-lg absolute -top-6 left-0 flex group\",\n      children: [/*#__PURE__*/_jsxDEV(XIcon, {\n        className: \"w-5 text-mexican-red-600 bg-gray-500 cursor-pointer absolute left-2 top-0.5 opacity-0 group-hover:opacity-100 transition-opacity duration-100 ease-linear\",\n        onClick: () => clearReply()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReplyIcon, {\n        className: \"w-5 mr-1 text-gray-800\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"replying to \", getReply.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this);\n  }\n  function ChatImagePreview() {\n    function handleClearImage() {\n      fileRef.current.value = null;\n      setImageAttached(false);\n      setInputError(prevData => {\n        const dataCopy = {\n          ...prevData\n        };\n        dataCopy.fileError = null;\n        return dataCopy;\n      });\n    }\n    if (!imageAttached) return null;\n    if (imageLoading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-36 p-4 absolute top-0 flex items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-28 h-28 p-1 bg-gray-600 rounded-md flex flex-col justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full overflow-hidden text-gray-200\",\n              children: \"loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(XIcon, {\n              className: \"h-6 w-6 text-mexican-red-500 hover:text-mexican-red-400 cursor-pointer\",\n              onClick: () => {\n                fileRef.current.value = null;\n                setImageAttached(false);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-[5rem] w-full bg-gray-700 object-cover rounded-b-md animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this);\n    } else {\n      var _imagePreviewRef$curr;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-36 p-4 absolute top-0 flex items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-28 h-28 p-1 bg-gray-600 rounded-md flex flex-col justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-28 h-6 text-gray-200 overflow-hidden\",\n              children: (_imagePreviewRef$curr = imagePreviewRef.current) === null || _imagePreviewRef$curr === void 0 ? void 0 : _imagePreviewRef$curr.filename\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(XIcon, {\n              className: \"h-6 w-6 text-mexican-red-500 hover:text-mexican-red-400 cursor-pointer\",\n              onClick: handleClearImage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imagePreviewRef.current.image,\n            alt: \"preview\",\n            className: \"h-[5rem] object-cover rounded-b-md\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"flex justify-center\",\n    onSubmit: returnMessageData,\n    children: [/*#__PURE__*/_jsxDEV(BlurBackdrop, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-[90%] md:w-4/5 max-w-4xl ${!imageAttached || \"h-[10.5rem]\"} m-4 p-2 bg-gray-500 rounded-lg ${!getReply || \"rounded-tl-none\"} flex justify-around items-end shadow-lg absolute bottom-1`,\n      children: [!getReply || /*#__PURE__*/_jsxDEV(ReplyBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(ChatImagePreview, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), !mentionsArray.length > 0 || /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-6 h-6 absolute bottom-2 left-2 bg-amber-500 font-semibold rounded-full shadow-md flex justify-center items-center overflow-clip z-10 pointer-events-none\",\n        children: mentionsArray.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AddMentionsButton, {\n        passSelection: selection => setMentionsArray(selection)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"text\",\n        ref: textRef,\n        placeholder: \"Say something...\",\n        autoComplete: \"off\",\n        className: \"bg-inherit focus:outline-none flex-grow font-nunito\",\n        onChange: e => validateInput({\n          field: \"text\",\n          input: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AttachImageButton, {\n        onChange: updateImageInput,\n        validate: validateInput,\n        ref: fileRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n        onClick: returnMessageData,\n        errorState: inputError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 5\n  }, this);\n}\n_s3(ChatInputBox, \"bOiEYuP/qgKrd3Kvps/QeEEKPKA=\");\n_c5 = ChatInputBox;\nexport default ChatInputBox;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"AttachImageButton$forwardRef\");\n$RefreshReg$(_c2, \"AttachImageButton\");\n$RefreshReg$(_c3, \"AddMentionsButton\");\n$RefreshReg$(_c4, \"SubmitButton\");\n$RefreshReg$(_c5, \"ChatInputBox\");","map":{"version":3,"names":["useRef","useState","useEffect","forwardRef","useContext","moment","AtSymbolIcon","CameraIcon","XIcon","PaperAirplaneIcon","CheckIcon","ReplyIcon","ReplyContext","MentionsSelector","AttachImageButton","props","ref","e","validate","field","input","target","files","onChange","AddMentionsButton","passSelection","expanded","setExpanded","selectedMembers","setSelectedMembers","getReply","addSelection","id","prevData","dataCopy","push","removeSelection","filter","selectedId","SubmitButton","onClick","errorState","errorOpacity","setErrorOpacity","submitButtonStyle","setSubmitButtonStyle","lastError","setLastError","fileError","textError","ChatInputBox","imageAttached","setImageAttached","imageLoading","setImageLoading","inputError","setInputError","mentionsArray","setMentionsArray","clearReply","textRef","fileRef","imagePreviewRef","window","innerWidth","current","focus","value","returnMessageData","preventDefault","noError","formHasContent","length","messageData","mentions","reply","clusterId","text","file","dateString","format","timestamp","Date","now","return","validateInput","params","size","updateImageInput","selectedImage","fileReader","FileReader","onload","image","result","filename","name","readAsDataURL","BlurBackdrop","blurHeight","ReplyBar","ChatImagePreview","handleClearImage","selection"],"sources":["/home/agreus/Documents/webdev/mercury-messenger/client/src/components/chat/ChatInputBox.js"],"sourcesContent":["import { useRef, useState, useEffect, forwardRef, useContext } from \"react\";\nimport moment from \"moment/moment\";\n\n// svg\nimport {\n  AtSymbolIcon,\n  CameraIcon,\n  XIcon,\n  PaperAirplaneIcon,\n  CheckIcon,\n  ReplyIcon,\n} from \"@heroicons/react/outline\";\n\n// context\nimport { ReplyContext } from \"../context/RepliesContext\";\n\n// components\nimport { MentionsSelector } from \"../../utils/iterableComponents\";\n\nconst AttachImageButton = forwardRef(function AttachImageButton(props, ref) {\n  return (\n    <label className=\"mx-1\">\n      <CameraIcon className=\"h-6 w-6 text-gray-800 hover:text-gray-700 cursor-pointer\" />\n      <input\n        type=\"file\"\n        name=\"chatImage\"\n        id=\"chatImage\"\n        className=\"sr-only\"\n        accept=\".jpg, .jpeg, .png, .gif\"\n        onChange={(e) => {\n          props.validate({ field: \"file\", input: e.target.files[0] });\n          props.onChange(e);\n        }}\n        ref={ref}\n      ></input>\n    </label>\n  );\n});\n\nfunction AddMentionsButton(props) {\n  const { passSelection } = props;\n  const [expanded, setExpanded] = useState(false);\n  const [selectedMembers, setSelectedMembers] = useState([]);\n\n  const { getReply } = useContext(ReplyContext);\n\n  function addSelection(id) {\n    setSelectedMembers((prevData) => {\n      const dataCopy = [...prevData];\n      dataCopy.push(id);\n      return dataCopy;\n    });\n  }\n\n  function removeSelection(id) {\n    setSelectedMembers((prevData) => {\n      const dataCopy = [...prevData];\n      dataCopy.push(id);\n      return dataCopy.filter((selectedId) => selectedId !== id);\n    });\n  }\n\n  return (\n    <>\n      {!expanded || (\n        <div\n          className={`h-[8.25rem] w-1/2 min-w-[10rem] p-1 absolute ${\n            getReply ? \"-top-[10.25rem]\" : \"-top-[8.75rem]\"\n          } left-0 bg-gray-500 backdrop-blur-sm bg-opacity-70 rounded-lg shadow-md flex flex-col overflow-hidden`}\n        >\n          <MentionsSelector\n            selectedMembers={selectedMembers}\n            onSelect={addSelection}\n            onDeselect={removeSelection}\n          />\n          <CheckIcon\n            className=\"w-7 absolute bottom-0 right-0 p-0.5 bg-green-500 text-gray-700 rounded-tl-xl hover:bg-green-400 cursor-pointer\"\n            onClick={() => {\n              passSelection(selectedMembers);\n              setExpanded(false);\n            }}\n          />\n        </div>\n      )}\n      <div className=\"relative\">\n        <AtSymbolIcon\n          className=\"h-6 w-6 mr-2 text-gray-800 hover:text-gray-700 cursor-pointer\"\n          onClick={() => {\n            if (expanded) passSelection(selectedMembers);\n            setExpanded(!expanded);\n          }}\n        />\n      </div>\n    </>\n  );\n}\n\nfunction SubmitButton(props) {\n  const { onClick, errorState } = props;\n  const [errorOpacity, setErrorOpacity] = useState(\"opacity-0\");\n  const [submitButtonStyle, setSubmitButtonStyle] = useState();\n  const [lastError, setLastError] = useState();\n\n  useEffect(() => {\n    if (errorState.fileError || errorState.textError) {\n      setErrorOpacity(\"opacity-100\");\n      setSubmitButtonStyle(\"text-mexican-red-600 opacity-70\");\n      setLastError(errorState.textError || errorState.fileError);\n    } else {\n      setErrorOpacity(\"opacity-0\");\n      setSubmitButtonStyle(\"text-gray-800 hover:text-gray-700 cursor-pointer\");\n    }\n  }, [errorState]);\n\n  return (\n    <>\n      <PaperAirplaneIcon\n        className={`${submitButtonStyle} h-6 w-6 shrink-0 rotate-90`}\n        onClick={onClick}\n      />\n      <div\n        className={`${errorOpacity} h-8 p-1 absolute right-5 -top-10 bg-mexican-red-500 text-gray-200 font-semibold rounded-lg rounded-br-none shadow-md overflow-clip transition-opacity duration-200 ease-in`}\n      >\n        {lastError}\n      </div>\n    </>\n  );\n}\n\nfunction ChatInputBox(props) {\n  const [imageAttached, setImageAttached] = useState(false);\n  const [imageLoading, setImageLoading] = useState(true);\n  const [inputError, setInputError] = useState({\n    textError: null,\n    fileError: null,\n  });\n  const [mentionsArray, setMentionsArray] = useState([]);\n\n  const { getReply, clearReply } = useContext(ReplyContext);\n\n  const textRef = useRef();\n  const fileRef = useRef();\n  const imagePreviewRef = useRef();\n\n  useEffect(() => {\n    if (window.innerWidth >= 768) textRef.current.focus();\n  }, []);\n\n  // eslint-disable-next-line\n  useEffect(() => {\n    if (fileRef.current.value) setImageAttached(true);\n    else setImageAttached(false);\n  });\n\n  function returnMessageData(e) {\n    e.preventDefault();\n\n    const noError = !inputError.textError && !inputError.fileError;\n    const formHasContent =\n      textRef.current.value.length || fileRef.current.value;\n\n    if (formHasContent && noError) {\n      const messageData = {\n        mentions: mentionsArray,\n        reply: getReply?.clusterId || null,\n        text: textRef.current.value || null,\n        file: fileRef.current.files[0] || null,\n        dateString: moment().format(),\n        timestamp: Date.now(),\n      };\n\n      textRef.current.value = null;\n      fileRef.current.value = null;\n      setMentionsArray([]);\n\n      clearReply();\n      props.return(messageData);\n    }\n  }\n\n  function validateInput(params) {\n    const { field, input } = params;\n\n    if (field === \"text\") {\n      setInputError((prevData) => {\n        const dataCopy = { ...prevData };\n\n        if (input.length > 250) {\n          dataCopy.textError = \"Message exceeds 250 characters\";\n        } else {\n          dataCopy.textError = null;\n        }\n        return dataCopy;\n      });\n    }\n\n    if (field === \"file\") {\n      setInputError((prevData) => {\n        const dataCopy = { ...prevData };\n\n        if (input.size > 3e6) {\n          dataCopy.fileError = \"File exceeds 3MB\";\n        } else {\n          dataCopy.fileError = null;\n        }\n        return dataCopy;\n      });\n    }\n  }\n\n  function updateImageInput(e) {\n    const selectedImage = e.target.files[0];\n    setImageLoading(true);\n\n    if (selectedImage) {\n      const fileReader = new FileReader();\n      fileReader.onload = (e) => {\n        imagePreviewRef.current = {\n          image: e.target.result,\n          filename: selectedImage.name,\n        };\n\n        setImageLoading(false);\n      };\n      fileReader.readAsDataURL(e.target.files[0]);\n    }\n  }\n\n  function BlurBackdrop() {\n    let blurHeight;\n    if (imageAttached) blurHeight = \"h-[16rem]\";\n    else blurHeight = \"h-[14%] max-h-32\";\n\n    return (\n      <>\n        <div\n          className={`w-full ml-2  ${blurHeight} backdrop-blur-sm bottom-0 -left-2 absolute pointer-events-none blurMask45`}\n        ></div>\n        <div\n          className={`w-full ml-2 ${blurHeight} bg-gray-600 bottom-0 -left-2 absolute pointer-events-none blurMask70`}\n        ></div>\n      </>\n    );\n  }\n\n  function ReplyBar() {\n    return (\n      <div className=\"h-6 px-2 bg-gray-500 rounded-t-lg absolute -top-6 left-0 flex group\">\n        <XIcon\n          className=\"w-5 text-mexican-red-600 bg-gray-500 cursor-pointer absolute left-2 top-0.5 opacity-0 group-hover:opacity-100 transition-opacity duration-100 ease-linear\"\n          onClick={() => clearReply()}\n        />\n        <ReplyIcon className=\"w-5 mr-1 text-gray-800\" />\n        <div>replying to {getReply.name}</div>\n      </div>\n    );\n  }\n\n  function ChatImagePreview() {\n    function handleClearImage() {\n      fileRef.current.value = null;\n      setImageAttached(false);\n      setInputError((prevData) => {\n        const dataCopy = { ...prevData };\n        dataCopy.fileError = null;\n        return dataCopy;\n      });\n    }\n\n    if (!imageAttached) return null;\n\n    if (imageLoading) {\n      return (\n        <div className=\"w-full h-36 p-4 absolute top-0 flex items-center\">\n          <div className=\"w-28 h-28 p-1 bg-gray-600 rounded-md flex flex-col justify-between\">\n            <div className=\"flex\">\n              <div className=\"w-full overflow-hidden text-gray-200\">\n                loading...\n              </div>\n              <XIcon\n                className=\"h-6 w-6 text-mexican-red-500 hover:text-mexican-red-400 cursor-pointer\"\n                onClick={() => {\n                  fileRef.current.value = null;\n                  setImageAttached(false);\n                }}\n              />\n            </div>\n            <div className=\"h-[5rem] w-full bg-gray-700 object-cover rounded-b-md animate-pulse\"></div>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"w-full h-36 p-4 absolute top-0 flex items-center\">\n          <div className=\"w-28 h-28 p-1 bg-gray-600 rounded-md flex flex-col justify-between\">\n            <div className=\"flex\">\n              <div className=\"w-28 h-6 text-gray-200 overflow-hidden\">\n                {imagePreviewRef.current?.filename}\n              </div>\n              <XIcon\n                className=\"h-6 w-6 text-mexican-red-500 hover:text-mexican-red-400 cursor-pointer\"\n                onClick={handleClearImage}\n              />\n            </div>\n            <img\n              src={imagePreviewRef.current.image}\n              alt=\"preview\"\n              className=\"h-[5rem] object-cover rounded-b-md\"\n            />\n          </div>\n        </div>\n      );\n    }\n  }\n\n  return (\n    <form className=\"flex justify-center\" onSubmit={returnMessageData}>\n      <BlurBackdrop />\n\n      <div\n        className={`w-[90%] md:w-4/5 max-w-4xl ${\n          !imageAttached || \"h-[10.5rem]\"\n        } m-4 p-2 bg-gray-500 rounded-lg ${\n          !getReply || \"rounded-tl-none\"\n        } flex justify-around items-end shadow-lg absolute bottom-1`}\n      >\n        {!getReply || <ReplyBar />}\n\n        <ChatImagePreview />\n\n        {!mentionsArray.length > 0 || (\n          <div className=\"w-6 h-6 absolute bottom-2 left-2 bg-amber-500 font-semibold rounded-full shadow-md flex justify-center items-center overflow-clip z-10 pointer-events-none\">\n            {mentionsArray.length}\n          </div>\n        )}\n\n        <AddMentionsButton\n          passSelection={(selection) => setMentionsArray(selection)}\n        />\n\n        <input\n          type=\"text\"\n          id=\"text\"\n          ref={textRef}\n          placeholder=\"Say something...\"\n          autoComplete=\"off\"\n          className=\"bg-inherit focus:outline-none flex-grow font-nunito\"\n          onChange={(e) =>\n            validateInput({ field: \"text\", input: e.target.value })\n          }\n        />\n\n        <AttachImageButton\n          onChange={updateImageInput}\n          validate={validateInput}\n          ref={fileRef}\n        />\n\n        <SubmitButton onClick={returnMessageData} errorState={inputError} />\n      </div>\n    </form>\n  );\n}\n\nexport default ChatInputBox;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}