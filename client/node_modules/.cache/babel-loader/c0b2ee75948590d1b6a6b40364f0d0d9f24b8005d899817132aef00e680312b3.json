{"ast":null,"code":"import _slicedToArray from\"/home/agreus/Documents/webdev/mercury-messenger/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{InformationCircleIcon,ExclamationCircleIcon,CheckCircleIcon,XIcon}from\"@heroicons/react/outline\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function FlashMessageWrapper(props){return/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 right-0 h-full scrollbar-none overflow-y-scroll pointer-events-none\",children:props.children});}export function FlashMessage(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),fadeClass=_useState2[0],setFadeClass=_useState2[1];useEffect(function(){if(props.position===0&&fadeClass.length===0){var selfUnmountTimer=setTimeout(function(){setFadeClass(\"opacity-0 transition-opacity duration-700\");setTimeout(function(){props.unmount(props.position);setFadeClass(\"\");// for some reason the component next in the list will have its fadeClass set if it is not set back to \"\"\n},700);},3000);// clear timeout on umount to prevent duplicate unmount calls, without this component will try to unmount multiple times\nreturn function(){return clearTimeout(selfUnmountTimer);};}// eslint-disable-next-line react-hooks/exhaustive-deps\n});function unmountThis(){setFadeClass(\"opacity-0 transition-opacity duration-700\");var requestedUnmountTimer=setTimeout(function(){props.unmount(props.position);setFadeClass(\"\");// for some reason the component next in the list will have its fadeClass set if it is not set back to \"\"\n},700);// clear timeout on umount to prevent duplicate unmount calls, without this component will try to unmount multiple times\nreturn function(){return clearTimeout(requestedUnmountTimer);};}var charm;var message=props.message?props.message:props.type;switch(props.type){case\"alert\":charm=/*#__PURE__*/_jsx(\"div\",{className:\"bg-amber-500 rounded-l-xl flex justify-center\",children:/*#__PURE__*/_jsx(InformationCircleIcon,{className:\"w-6 m-1 text-gray-600 shrink-0\"})});break;case\"success\":charm=/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 rounded-l-xl flex justify-center\",children:/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"w-6 m-1 text-gray-600 shrink-0\"})});break;case\"error\":charm=/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-500 rounded-l-xl flex justify-center\",children:/*#__PURE__*/_jsx(ExclamationCircleIcon,{className:\"w-6 m-1 text-gray-600 shrink-0\"})});break;default:charm=null;break;}return/*#__PURE__*/_jsxs(\"div\",{// className={`relative m-2 pr-6 w-96 min-h-[3rem] h-fit rounded-xl backdrop-blur-sm flex shadow-md z-50 ${fadeClass}`}\nclassName:\"relative m-2 pr-6 md:w-96 min-h-[3rem] h-fit rounded-xl backdrop-blur-sm flex shadow-md z-50 \".concat(fadeClass),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full absolute -z-10 rounded-xl bg-gray-500 opacity-70\"}),/*#__PURE__*/_jsx(XIcon,{className:\"w-6 absolute top-0 right-0 p-1 text-gray-800 bg-mexican-red-500 hover:bg-mexican-red-400 hover:cursor-pointer rounded-tr-xl rounded-bl-md pointer-events-auto\",onClick:unmountThis}),charm,/*#__PURE__*/_jsx(\"p\",{className:\"w-full md:w-fit text-gray-900 ml-2 mr-4 self-center\",children:message})]});}","map":{"version":3,"names":["useState","useEffect","InformationCircleIcon","ExclamationCircleIcon","CheckCircleIcon","XIcon","FlashMessageWrapper","props","children","FlashMessage","fadeClass","setFadeClass","position","length","selfUnmountTimer","setTimeout","unmount","clearTimeout","unmountThis","requestedUnmountTimer","charm","message","type"],"sources":["/home/agreus/Documents/webdev/mercury-messenger/client/src/components/ui/FlashMessage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport {\n  InformationCircleIcon,\n  ExclamationCircleIcon,\n  CheckCircleIcon,\n  XIcon,\n} from \"@heroicons/react/outline\";\n\nexport function FlashMessageWrapper(props) {\n  return (\n    <div className=\"absolute top-0 right-0 h-full scrollbar-none overflow-y-scroll pointer-events-none\">\n      {props.children}\n    </div>\n  );\n}\n\nexport function FlashMessage(props) {\n  const [fadeClass, setFadeClass] = useState(\"\");\n\n  useEffect(() => {\n    if (props.position === 0 && fadeClass.length === 0) {\n      const selfUnmountTimer = setTimeout(() => {\n        setFadeClass(\"opacity-0 transition-opacity duration-700\");\n        setTimeout(() => {\n          props.unmount(props.position);\n          setFadeClass(\"\"); // for some reason the component next in the list will have its fadeClass set if it is not set back to \"\"\n        }, 700);\n      }, 3000);\n      // clear timeout on umount to prevent duplicate unmount calls, without this component will try to unmount multiple times\n      return () => clearTimeout(selfUnmountTimer);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  });\n\n  function unmountThis() {\n    setFadeClass(\"opacity-0 transition-opacity duration-700\");\n    const requestedUnmountTimer = setTimeout(() => {\n      props.unmount(props.position);\n      setFadeClass(\"\"); // for some reason the component next in the list will have its fadeClass set if it is not set back to \"\"\n    }, 700);\n    // clear timeout on umount to prevent duplicate unmount calls, without this component will try to unmount multiple times\n    return () => clearTimeout(requestedUnmountTimer);\n  }\n\n  let charm;\n  const message = props.message ? props.message : props.type;\n  switch (props.type) {\n    case \"alert\":\n      charm = (\n        <div className=\"bg-amber-500 rounded-l-xl flex justify-center\">\n          <InformationCircleIcon className=\"w-6 m-1 text-gray-600 shrink-0\" />\n        </div>\n      );\n\n      break;\n    case \"success\":\n      charm = (\n        <div className=\"bg-green-600 rounded-l-xl flex justify-center\">\n          <CheckCircleIcon className=\"w-6 m-1 text-gray-600 shrink-0\" />\n        </div>\n      );\n\n      break;\n    case \"error\":\n      charm = (\n        <div className=\"bg-red-500 rounded-l-xl flex justify-center\">\n          <ExclamationCircleIcon className=\"w-6 m-1 text-gray-600 shrink-0\" />\n        </div>\n      );\n\n      break;\n    default:\n      charm = null;\n      break;\n  }\n\n  return (\n    <div\n      // className={`relative m-2 pr-6 w-96 min-h-[3rem] h-fit rounded-xl backdrop-blur-sm flex shadow-md z-50 ${fadeClass}`}\n      className={`relative m-2 pr-6 md:w-96 min-h-[3rem] h-fit rounded-xl backdrop-blur-sm flex shadow-md z-50 ${fadeClass}`}\n    >\n      <div className=\"w-full h-full absolute -z-10 rounded-xl bg-gray-500 opacity-70\"></div>\n      <XIcon\n        className=\"w-6 absolute top-0 right-0 p-1 text-gray-800 bg-mexican-red-500 hover:bg-mexican-red-400 hover:cursor-pointer rounded-tr-xl rounded-bl-md pointer-events-auto\"\n        onClick={unmountThis}\n      />\n      {charm}\n      <p className=\"w-full md:w-fit text-gray-900 ml-2 mr-4 self-center\">\n        {message}\n      </p>\n    </div>\n  );\n}\n"],"mappings":"4IAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OACEC,qBAAqB,CACrBC,qBAAqB,CACrBC,eAAe,CACfC,KAAK,KACA,0BAA0B,CAAC,wFAElC,MAAO,SAASC,oBAAmB,CAACC,KAAK,CAAE,CACzC,mBACE,YAAK,SAAS,CAAC,oFAAoF,UAChGA,KAAK,CAACC,QAAQ,EACX,CAEV,CAEA,MAAO,SAASC,aAAY,CAACF,KAAK,CAAE,CAClC,cAAkCP,QAAQ,CAAC,EAAE,CAAC,wCAAvCU,SAAS,eAAEC,YAAY,eAE9BV,SAAS,CAAC,UAAM,CACd,GAAIM,KAAK,CAACK,QAAQ,GAAK,CAAC,EAAIF,SAAS,CAACG,MAAM,GAAK,CAAC,CAAE,CAClD,GAAMC,iBAAgB,CAAGC,UAAU,CAAC,UAAM,CACxCJ,YAAY,CAAC,2CAA2C,CAAC,CACzDI,UAAU,CAAC,UAAM,CACfR,KAAK,CAACS,OAAO,CAACT,KAAK,CAACK,QAAQ,CAAC,CAC7BD,YAAY,CAAC,EAAE,CAAC,CAAE;AACpB,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,CAAE,IAAI,CAAC,CACR;AACA,MAAO,kBAAMM,aAAY,CAACH,gBAAgB,CAAC,GAC7C,CACA;AACF,CAAC,CAAC,CAEF,QAASI,YAAW,EAAG,CACrBP,YAAY,CAAC,2CAA2C,CAAC,CACzD,GAAMQ,sBAAqB,CAAGJ,UAAU,CAAC,UAAM,CAC7CR,KAAK,CAACS,OAAO,CAACT,KAAK,CAACK,QAAQ,CAAC,CAC7BD,YAAY,CAAC,EAAE,CAAC,CAAE;AACpB,CAAC,CAAE,GAAG,CAAC,CACP;AACA,MAAO,kBAAMM,aAAY,CAACE,qBAAqB,CAAC,GAClD,CAEA,GAAIC,MAAK,CACT,GAAMC,QAAO,CAAGd,KAAK,CAACc,OAAO,CAAGd,KAAK,CAACc,OAAO,CAAGd,KAAK,CAACe,IAAI,CAC1D,OAAQf,KAAK,CAACe,IAAI,EAChB,IAAK,OAAO,CACVF,KAAK,cACH,YAAK,SAAS,CAAC,+CAA+C,uBAC5D,KAAC,qBAAqB,EAAC,SAAS,CAAC,gCAAgC,EAAG,EAEvE,CAED,MACF,IAAK,SAAS,CACZA,KAAK,cACH,YAAK,SAAS,CAAC,+CAA+C,uBAC5D,KAAC,eAAe,EAAC,SAAS,CAAC,gCAAgC,EAAG,EAEjE,CAED,MACF,IAAK,OAAO,CACVA,KAAK,cACH,YAAK,SAAS,CAAC,6CAA6C,uBAC1D,KAAC,qBAAqB,EAAC,SAAS,CAAC,gCAAgC,EAAG,EAEvE,CAED,MACF,QACEA,KAAK,CAAG,IAAI,CACZ,MAAM,CAGV,mBACE,aACE;AACA,SAAS,wGAAkGV,SAAS,CAAG,wBAEvH,YAAK,SAAS,CAAC,gEAAgE,EAAO,cACtF,KAAC,KAAK,EACJ,SAAS,CAAC,+JAA+J,CACzK,OAAO,CAAEQ,WAAY,EACrB,CACDE,KAAK,cACN,UAAG,SAAS,CAAC,qDAAqD,UAC/DC,OAAO,EACN,GACA,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}