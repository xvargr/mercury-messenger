{"ast":null,"code":"var _jsxFileName = \"/home/agreus/Documents/webdev/mercury-messenger/client/src/components/ui/ImageSelectorPreview.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { PhotographIcon } from \"@heroicons/react/outline\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ImageSelectorPreview(props) {\n  _s();\n  const {\n    imageSrc,\n    passData,\n    loading,\n    showOriginal\n  } = props;\n  const [readerSrc, setReaderSrc] = useState(null);\n  function imagePreview(e) {\n    const selectedImage = e.target.files[0];\n    if (selectedImage) {\n      const fileReader = new FileReader();\n      fileReader.onload = e => {\n        setReaderSrc(e.target.result);\n        // imageRef.current.attributes.src.value = e.target.result;\n      };\n\n      fileReader.readAsDataURL(e.target.files[0]);\n      passData(e.target.files[0]);\n    }\n  }\n  function previewConditions() {\n    if (showOriginal && !readerSrc) return imageSrc;else if (showOriginal) return imageSrc;else if (readerSrc) return readerSrc;else return imageSrc;\n  }\n  if (loading || !imageSrc) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-[15rem] h-[15rem] md:w-72 md:h-72 grow-0 shrink-0 rounded-full bg-gray-500 animate-pulse\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"image\",\n        className: \"group relative hover:cursor-pointer\",\n        children: [/*#__PURE__*/_jsxDEV(PhotographIcon, {\n          className: \"absolute top-[4rem] left-[4rem] h-[4rem] sm:top-[5rem] sm:left-[5rem] sm:h-[5rem] md:top-[6rem] md:left-[6rem] md:h-[6rem] text-gray-400  opacity-0 hover:cursor-pointer group-hover:opacity-100 transition-all duration-100 z-10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"group-hover:brightness-[0.4] group-hover:cursor-pointer transition-all duration-100\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: previewConditions(),\n            alt: \"profile\",\n            className: \"w-[12rem] h-[12rem] sm:w-[15rem] sm:h-[15rem] md:w-72 md:h-72 rounded-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"image\",\n        id: \"image\",\n        className: \"sr-only\",\n        accept: \".jpg, .jpeg, .png, .gif\",\n        onChange: imagePreview\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}\n_s(ImageSelectorPreview, \"W+bwe5KS+DVpNPjM/ACcm2VKq4s=\");\n_c = ImageSelectorPreview;\nvar _c;\n$RefreshReg$(_c, \"ImageSelectorPreview\");","map":{"version":3,"names":["useState","PhotographIcon","ImageSelectorPreview","props","imageSrc","passData","loading","showOriginal","readerSrc","setReaderSrc","imagePreview","e","selectedImage","target","files","fileReader","FileReader","onload","result","readAsDataURL","previewConditions"],"sources":["/home/agreus/Documents/webdev/mercury-messenger/client/src/components/ui/ImageSelectorPreview.js"],"sourcesContent":["import { useState } from \"react\";\nimport { PhotographIcon } from \"@heroicons/react/outline\";\n\nexport default function ImageSelectorPreview(props) {\n  const { imageSrc, passData, loading, showOriginal } = props;\n  const [readerSrc, setReaderSrc] = useState(null);\n\n  function imagePreview(e) {\n    const selectedImage = e.target.files[0];\n    if (selectedImage) {\n      const fileReader = new FileReader();\n      fileReader.onload = (e) => {\n        setReaderSrc(e.target.result);\n        // imageRef.current.attributes.src.value = e.target.result;\n      };\n      fileReader.readAsDataURL(e.target.files[0]);\n      passData(e.target.files[0]);\n    }\n  }\n\n  function previewConditions() {\n    if (showOriginal && !readerSrc) return imageSrc;\n    else if (showOriginal) return imageSrc;\n    else if (readerSrc) return readerSrc;\n    else return imageSrc;\n  }\n\n  if (loading || !imageSrc) {\n    return (\n      <div className=\"w-[15rem] h-[15rem] md:w-72 md:h-72 grow-0 shrink-0 rounded-full bg-gray-500 animate-pulse\"></div>\n    );\n  } else {\n    return (\n      <>\n        <label htmlFor=\"image\" className=\"group relative hover:cursor-pointer\">\n          <PhotographIcon\n            className={\n              \"absolute top-[4rem] left-[4rem] h-[4rem] sm:top-[5rem] sm:left-[5rem] sm:h-[5rem] md:top-[6rem] md:left-[6rem] md:h-[6rem] text-gray-400  opacity-0 hover:cursor-pointer group-hover:opacity-100 transition-all duration-100 z-10\"\n            }\n          />\n          <div className=\"group-hover:brightness-[0.4] group-hover:cursor-pointer transition-all duration-100\">\n            <img\n              src={previewConditions()}\n              alt=\"profile\"\n              className=\"w-[12rem] h-[12rem] sm:w-[15rem] sm:h-[15rem] md:w-72 md:h-72 rounded-full object-cover\"\n            />\n          </div>\n        </label>\n        <input\n          type=\"file\"\n          name=\"image\"\n          id=\"image\"\n          className=\"sr-only\"\n          accept=\".jpg, .jpeg, .png, .gif\"\n          onChange={imagePreview}\n        />\n      </>\n    );\n  }\n}\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,cAAc,QAAQ,0BAA0B;AAAC;AAAA;AAE1D,eAAe,SAASC,oBAAoB,CAACC,KAAK,EAAE;EAAA;EAClD,MAAM;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC,OAAO;IAAEC;EAAa,CAAC,GAAGJ,KAAK;EAC3D,MAAM,CAACK,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAEhD,SAASU,YAAY,CAACC,CAAC,EAAE;IACvB,MAAMC,aAAa,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACvC,IAAIF,aAAa,EAAE;MACjB,MAAMG,UAAU,GAAG,IAAIC,UAAU,EAAE;MACnCD,UAAU,CAACE,MAAM,GAAIN,CAAC,IAAK;QACzBF,YAAY,CAACE,CAAC,CAACE,MAAM,CAACK,MAAM,CAAC;QAC7B;MACF,CAAC;;MACDH,UAAU,CAACI,aAAa,CAACR,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;MAC3CT,QAAQ,CAACM,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC7B;EACF;EAEA,SAASM,iBAAiB,GAAG;IAC3B,IAAIb,YAAY,IAAI,CAACC,SAAS,EAAE,OAAOJ,QAAQ,CAAC,KAC3C,IAAIG,YAAY,EAAE,OAAOH,QAAQ,CAAC,KAClC,IAAII,SAAS,EAAE,OAAOA,SAAS,CAAC,KAChC,OAAOJ,QAAQ;EACtB;EAEA,IAAIE,OAAO,IAAI,CAACF,QAAQ,EAAE;IACxB,oBACE;MAAK,SAAS,EAAC;IAA4F;MAAA;MAAA;MAAA;IAAA,QAAO;EAEtH,CAAC,MAAM;IACL,oBACE;MAAA,wBACE;QAAO,OAAO,EAAC,OAAO;QAAC,SAAS,EAAC,qCAAqC;QAAA,wBACpE,QAAC,cAAc;UACb,SAAS,EACP;QACD;UAAA;UAAA;UAAA;QAAA,QACD,eACF;UAAK,SAAS,EAAC,qFAAqF;UAAA,uBAClG;YACE,GAAG,EAAEgB,iBAAiB,EAAG;YACzB,GAAG,EAAC,SAAS;YACb,SAAS,EAAC;UAAyF;YAAA;YAAA;YAAA;UAAA;QACnG;UAAA;UAAA;UAAA;QAAA,QACE;MAAA;QAAA;QAAA;QAAA;MAAA,QACA,eACR;QACE,IAAI,EAAC,MAAM;QACX,IAAI,EAAC,OAAO;QACZ,EAAE,EAAC,OAAO;QACV,SAAS,EAAC,SAAS;QACnB,MAAM,EAAC,yBAAyB;QAChC,QAAQ,EAAEV;MAAa;QAAA;QAAA;QAAA;MAAA,QACvB;IAAA,gBACD;EAEP;AACF;AAAC,GAxDuBR,oBAAoB;AAAA,KAApBA,oBAAoB;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}