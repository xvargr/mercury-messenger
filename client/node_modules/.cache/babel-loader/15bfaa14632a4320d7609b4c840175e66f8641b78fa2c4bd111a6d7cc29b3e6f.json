{"ast":null,"code":"import _slicedToArray from\"/home/agreus/Documents/webdev/mercury-messenger/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{PhotographIcon}from\"@heroicons/react/outline\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ImageSelectorPreview(props){var imageSrc=props.imageSrc,passData=props.passData,loading=props.loading,showOriginal=props.showOriginal;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),readerSrc=_useState2[0],setReaderSrc=_useState2[1];function imagePreview(e){var selectedImage=e.target.files[0];if(selectedImage){var fileReader=new FileReader();fileReader.onload=function(e){setReaderSrc(e.target.result);// imageRef.current.attributes.src.value = e.target.result;\n};fileReader.readAsDataURL(e.target.files[0]);passData(e.target.files[0]);}}function previewConditions(){if(showOriginal&&!readerSrc)return imageSrc;else if(showOriginal)return imageSrc;else if(readerSrc)return readerSrc;else return imageSrc;}if(loading||!imageSrc){return/*#__PURE__*/_jsx(\"div\",{className:\"w-[15rem] h-[15rem] md:w-72 md:h-72 grow-0 shrink-0 rounded-full bg-gray-500 animate-pulse\"});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"image\",className:\"group relative hover:cursor-pointer\",children:[/*#__PURE__*/_jsx(PhotographIcon,{className:\"absolute top-[4rem] left-[4rem] h-[4rem] sm:top-[5rem] sm:left-[5rem] sm:h-[5rem] md:top-[6rem] md:left-[6rem] md:h-[6rem] text-gray-400  opacity-0 hover:cursor-pointer group-hover:opacity-100 transition-all duration-100 z-10\"}),/*#__PURE__*/_jsx(\"div\",{className:\"group-hover:brightness-[0.4] group-hover:cursor-pointer transition-all duration-100\",children:/*#__PURE__*/_jsx(\"img\",{src:previewConditions(),alt:\"profile\",className:\"w-[12rem] h-[12rem] sm:w-[15rem] sm:h-[15rem] md:w-72 md:h-72 rounded-full object-cover\"})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",id:\"image\",className:\"sr-only\",accept:\".jpg, .jpeg, .png, .gif\",onChange:imagePreview})]});}}","map":{"version":3,"names":["useState","PhotographIcon","ImageSelectorPreview","props","imageSrc","passData","loading","showOriginal","readerSrc","setReaderSrc","imagePreview","e","selectedImage","target","files","fileReader","FileReader","onload","result","readAsDataURL","previewConditions"],"sources":["/home/agreus/Documents/webdev/mercury-messenger/client/src/components/ui/ImageSelectorPreview.js"],"sourcesContent":["import { useState } from \"react\";\nimport { PhotographIcon } from \"@heroicons/react/outline\";\n\nexport default function ImageSelectorPreview(props) {\n  const { imageSrc, passData, loading, showOriginal } = props;\n  const [readerSrc, setReaderSrc] = useState(null);\n\n  function imagePreview(e) {\n    const selectedImage = e.target.files[0];\n    if (selectedImage) {\n      const fileReader = new FileReader();\n      fileReader.onload = (e) => {\n        setReaderSrc(e.target.result);\n        // imageRef.current.attributes.src.value = e.target.result;\n      };\n      fileReader.readAsDataURL(e.target.files[0]);\n      passData(e.target.files[0]);\n    }\n  }\n\n  function previewConditions() {\n    if (showOriginal && !readerSrc) return imageSrc;\n    else if (showOriginal) return imageSrc;\n    else if (readerSrc) return readerSrc;\n    else return imageSrc;\n  }\n\n  if (loading || !imageSrc) {\n    return (\n      <div className=\"w-[15rem] h-[15rem] md:w-72 md:h-72 grow-0 shrink-0 rounded-full bg-gray-500 animate-pulse\"></div>\n    );\n  } else {\n    return (\n      <>\n        <label htmlFor=\"image\" className=\"group relative hover:cursor-pointer\">\n          <PhotographIcon\n            className={\n              \"absolute top-[4rem] left-[4rem] h-[4rem] sm:top-[5rem] sm:left-[5rem] sm:h-[5rem] md:top-[6rem] md:left-[6rem] md:h-[6rem] text-gray-400  opacity-0 hover:cursor-pointer group-hover:opacity-100 transition-all duration-100 z-10\"\n            }\n          />\n          <div className=\"group-hover:brightness-[0.4] group-hover:cursor-pointer transition-all duration-100\">\n            <img\n              src={previewConditions()}\n              alt=\"profile\"\n              className=\"w-[12rem] h-[12rem] sm:w-[15rem] sm:h-[15rem] md:w-72 md:h-72 rounded-full object-cover\"\n            />\n          </div>\n        </label>\n        <input\n          type=\"file\"\n          name=\"image\"\n          id=\"image\"\n          className=\"sr-only\"\n          accept=\".jpg, .jpeg, .png, .gif\"\n          onChange={imagePreview}\n        />\n      </>\n    );\n  }\n}\n"],"mappings":"4IAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,cAAc,KAAQ,0BAA0B,CAAC,6IAE1D,cAAe,SAASC,qBAAoB,CAACC,KAAK,CAAE,CAClD,GAAQC,SAAQ,CAAsCD,KAAK,CAAnDC,QAAQ,CAAEC,QAAQ,CAA4BF,KAAK,CAAzCE,QAAQ,CAAEC,OAAO,CAAmBH,KAAK,CAA/BG,OAAO,CAAEC,YAAY,CAAKJ,KAAK,CAAtBI,YAAY,CACjD,cAAkCP,QAAQ,CAAC,IAAI,CAAC,wCAAzCQ,SAAS,eAAEC,YAAY,eAE9B,QAASC,aAAY,CAACC,CAAC,CAAE,CACvB,GAAMC,cAAa,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CACvC,GAAIF,aAAa,CAAE,CACjB,GAAMG,WAAU,CAAG,GAAIC,WAAU,EAAE,CACnCD,UAAU,CAACE,MAAM,CAAG,SAACN,CAAC,CAAK,CACzBF,YAAY,CAACE,CAAC,CAACE,MAAM,CAACK,MAAM,CAAC,CAC7B;AACF,CAAC,CACDH,UAAU,CAACI,aAAa,CAACR,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAC3CT,QAAQ,CAACM,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAC7B,CACF,CAEA,QAASM,kBAAiB,EAAG,CAC3B,GAAIb,YAAY,EAAI,CAACC,SAAS,CAAE,MAAOJ,SAAQ,CAAC,IAC3C,IAAIG,YAAY,CAAE,MAAOH,SAAQ,CAAC,IAClC,IAAII,SAAS,CAAE,MAAOA,UAAS,CAAC,IAChC,OAAOJ,SAAQ,CACtB,CAEA,GAAIE,OAAO,EAAI,CAACF,QAAQ,CAAE,CACxB,mBACE,YAAK,SAAS,CAAC,4FAA4F,EAAO,CAEtH,CAAC,IAAM,CACL,mBACE,wCACE,eAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,qCAAqC,wBACpE,KAAC,cAAc,EACb,SAAS,CACP,mOACD,EACD,cACF,YAAK,SAAS,CAAC,qFAAqF,uBAClG,YACE,GAAG,CAAEgB,iBAAiB,EAAG,CACzB,GAAG,CAAC,SAAS,CACb,SAAS,CAAC,yFAAyF,EACnG,EACE,GACA,cACR,cACE,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,OAAO,CACZ,EAAE,CAAC,OAAO,CACV,SAAS,CAAC,SAAS,CACnB,MAAM,CAAC,yBAAyB,CAChC,QAAQ,CAAEV,YAAa,EACvB,GACD,CAEP,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}