{"ast":null,"code":"import _objectSpread from\"/home/agreus/Documents/webdev/mercury-messenger/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useContext}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import axiosRetry from\"axios-retry\";import{FlashContext}from\"../components/context/FlashContext\";export default function useAxiosInstance(){var _useContext=useContext(FlashContext),pushFlashMessage=_useContext.pushFlashMessage;var navigate=useNavigate();// axios instance config\nvar instanceConfig={baseURL:\"\".concat(window.location.protocol,\"//\").concat(window.location.hostname,\":3000\"),// ! temporary\nwithCredentials:true};// axios request config\nvar headerConfig={headers:{\"Content-Type\":\"multipart/form-data\"}};var timeout={timeout:10000};// axios abort controllers\nvar fetchController=new AbortController();var deleteChannelController=new AbortController();var editChannelController=new AbortController();var newChannelController=new AbortController();var leaveGroupController=new AbortController();var deleteGroupController=new AbortController();var signUserController=new AbortController();var newGroupController=new AbortController();var editGroupController=new AbortController();var joinGroupController=new AbortController();var logOutController=new AbortController();var deleteUserController=new AbortController();var editUserController=new AbortController();// retry config\nvar infiniteRetry={retries:Infinity,// number of retries\nretryDelay:function retryDelay(){return 5000;}// accepts a function, has retryCount passed to it, must return a number\n};var threeRetries={retries:3,// number of retries\nretryDelay:function retryDelay(){return 5000;}// accepts a function, has retryCount passed to it, must return a number\n};// retry conditions\nfunction handleErrors(err){// console.log(err);\n// if (err.response.data.messages) {\n//   console.log(\"flash handler\");\n//   pushFlashMessage(err.response.data.messages);\n// } // flash handler\nif(err.code===\"ECONNABORTED\"){handleIfTimedOut(err);// todo handle timeouts\n}else toLoginOnUnauthorized(err);}function toLoginOnUnauthorized(err){// if retry condition is not specified, by default idempotent requests are retried\nvar noRetryCodes=[400,403,404,406,500];if(err.response.status===401)navigate(\"/login\");else if(noRetryCodes.includes(err.response.status))return false;else return true;}function handleIfTimedOut(err){pushFlashMessage([{message:\"Request timed out\",type:\"error\"}]);return false;}// axios instances\nfunction fetchGroups(){var fetchGroupsInstance=axios.create(instanceConfig);var config=_objectSpread({},headerConfig);config.signal=fetchController.signal;axiosRetry(fetchGroupsInstance,_objectSpread(_objectSpread({},infiniteRetry),{},{retryCondition:function retryCondition(err){return handleErrors(err);}}));return fetchGroupsInstance.get(\"/g\",config);}function deleteChannel(idString){var deleteChannelInstance=axios.create(instanceConfig);var config=_objectSpread(_objectSpread({},headerConfig),timeout);config.signal=deleteChannelController.signal;axiosRetry(deleteChannelInstance,_objectSpread(_objectSpread({},threeRetries),{},{retryCondition:function retryCondition(err){return handleErrors(err);}}));return deleteChannelInstance.delete(\"/c/\".concat(idString),config);}function editChannel(idString,data){var editChannelInstance=axios.create(instanceConfig);var config=_objectSpread(_objectSpread({},headerConfig),timeout);config.signal=editChannelController.signal;axiosRetry(editChannelInstance,_objectSpread(_objectSpread({},threeRetries),{},{retryCondition:function retryCondition(err){return handleErrors(err);}}));return editChannelInstance.patch(\"/c/\".concat(idString),data,config);}function newChannel(data){var newChannelInstance=axios.create(instanceConfig);var config=_objectSpread(_objectSpread({},headerConfig),timeout);config.signal=newChannelController.signal;axiosRetry(newChannelInstance,_objectSpread(_objectSpread({},threeRetries),{},{retryCondition:function retryCondition(err){return handleErrors(err);}}));return newChannelInstance.post(\"/c\",data,config);}function leaveGroup(idString){var leaveGroupInstance=axios.create(instanceConfig);var config=_objectSpread(_objectSpread({},headerConfig),timeout);config.signal=leaveGroupController.signal;axiosRetry(leaveGroupInstance,_objectSpread(_objectSpread({},threeRetries),{},{retryCondition:function retryCondition(err){return handleErrors(err);}}));return leaveGroupInstance.patch(\"/g/\".concat(idString),config);}function deleteGroup(idString){var deleteGroupInstance=axios.create(instanceConfig);var config=_objectSpread(_objectSpread({},headerConfig),timeout);config.signal=leaveGroupController.signal;axiosRetry(deleteGroupInstance,_objectSpread(_objectSpread({},threeRetries),{},{retryCondition:function retryCondition(err){return handleErrors(err);}}));return deleteGroupInstance.delete(\"/g/\".concat(idString),config);}function signUser(route,data){var userSignInstance=axios.create(instanceConfig);var config=_objectSpread(_objectSpread({},headerConfig),timeout);config.signal=signUserController.signal;axiosRetry(userSignInstance,_objectSpread(_objectSpread({},threeRetries),{},{retryCondition:function retryCondition(err){return handleErrors(err);}}));return userSignInstance.post(route,data,config);}function newGroup(data){var newGroupInstance=axios.create(instanceConfig);var config=_objectSpread(_objectSpread({},headerConfig),timeout);config.signal=signUserController.signal;axiosRetry(newGroupInstance,_objectSpread(_objectSpread({},threeRetries),{},{retryCondition:function retryCondition(err){return handleErrors(err);}}));return newGroupInstance.post(\"/g\",data,config);}function editGroup(idString,data){var editGroupInstance=axios.create(instanceConfig);var config=_objectSpread(_objectSpread({},headerConfig),timeout);config.signal=editChannelController.signal;axiosRetry(editGroupInstance,_objectSpread(_objectSpread({},threeRetries),{},{retryCondition:function retryCondition(err){return handleErrors(err);}}));return editGroupInstance.put(\"/g/\".concat(idString),data,config);}function joinGroup(code){var joinGroupInstance=axios.create(instanceConfig);var config=_objectSpread(_objectSpread({},headerConfig),timeout);config.signal=joinGroupController.signal;axiosRetry(joinGroupInstance,_objectSpread(_objectSpread({},threeRetries),{},{retryCondition:function retryCondition(err){return handleErrors(err);}}));return joinGroupInstance.post(code,config);}function logOut(){var logOutInstance=axios.create(instanceConfig);var config=_objectSpread(_objectSpread({},headerConfig),timeout);config.signal=logOutController.signal;axiosRetry(logOutInstance,_objectSpread(_objectSpread({},threeRetries),{},{retryCondition:function retryCondition(err){return handleErrors(err);}}));return logOutInstance.delete(\"/u\",config);}function deleteUser(userId,data){var deleteUserInstance=axios.create(instanceConfig);var config=_objectSpread(_objectSpread({},headerConfig),timeout);config.signal=deleteUserController.signal;axiosRetry(deleteUserInstance,_objectSpread(_objectSpread({},threeRetries),{},{retryCondition:function retryCondition(err){return handleErrors(err);}}));return deleteUserInstance.put(\"/u/\".concat(userId),data,config);}function editUser(userId,data){var editUserInstance=axios.create(instanceConfig);var config=_objectSpread(_objectSpread({},headerConfig),timeout);config.signal=editUserController.signal;axiosRetry(editUserInstance,_objectSpread(_objectSpread({},threeRetries),{},{retryCondition:function retryCondition(err){return handleErrors(err);}}));return editUserInstance.patch(\"/u/\".concat(userId),data,config);}// axios abort calls\nfunction abortFetch(){fetchController.abort();}function abortChannelDelete(){deleteChannelController.abort();}function abortChannelEdit(){deleteChannelController.abort();}function abortChannelCreate(){newChannelController.abort();}function abortGroupLeave(){leaveGroupController.abort();}function abortGroupDelete(){deleteGroupController.abort();}function abortUserSign(){signUserController.abort();}function abortGroupCreate(){newGroupController.abort();}function abortGroupEdit(){editGroupController.abort();}function abortGroupJoin(){joinGroupController.abort();}function abortLogOut(){joinGroupController.abort();}function abortDeleteUser(){deleteUserController.abort();}function abortEditUser(){editUserController.abort();}// todo: set aborts\nfunction abortAll(){fetchController.abort();deleteChannelController.abort();deleteChannelController.abort();newChannelController.abort();leaveGroupController.abort();deleteGroupController.abort();signUserController.abort();newGroupController.abort();editGroupController.abort();joinGroupController.abort();joinGroupController.abort();deleteUserController.abort();editUserController.abort();}return{userAccount:{sign:signUser,edit:editUser,delete:deleteUser,logOut:logOut,abortSign:abortUserSign,abortEdit:abortEditUser,abortDelete:abortDeleteUser,abortLogOut:abortLogOut},userGroups:{fetch:fetchGroups,new:newGroup,edit:editGroup,join:joinGroup,leave:leaveGroup,delete:deleteGroup,abortFetch:abortFetch,abortNew:abortGroupCreate,abortEdit:abortGroupEdit,abortJoin:abortGroupJoin,abortLeave:abortGroupLeave,abortDelete:abortGroupDelete},userChannels:{new:newChannel,edit:editChannel,delete:deleteChannel,abortNew:abortChannelCreate,abortEdit:abortChannelEdit,abortDelete:abortChannelDelete},abortAll:abortAll};}","map":{"version":3,"names":["useContext","useNavigate","axios","axiosRetry","FlashContext","useAxiosInstance","pushFlashMessage","navigate","instanceConfig","baseURL","window","location","protocol","hostname","withCredentials","headerConfig","headers","timeout","fetchController","AbortController","deleteChannelController","editChannelController","newChannelController","leaveGroupController","deleteGroupController","signUserController","newGroupController","editGroupController","joinGroupController","logOutController","deleteUserController","editUserController","infiniteRetry","retries","Infinity","retryDelay","threeRetries","handleErrors","err","code","handleIfTimedOut","toLoginOnUnauthorized","noRetryCodes","response","status","includes","message","type","fetchGroups","fetchGroupsInstance","create","config","signal","retryCondition","get","deleteChannel","idString","deleteChannelInstance","delete","editChannel","data","editChannelInstance","patch","newChannel","newChannelInstance","post","leaveGroup","leaveGroupInstance","deleteGroup","deleteGroupInstance","signUser","route","userSignInstance","newGroup","newGroupInstance","editGroup","editGroupInstance","put","joinGroup","joinGroupInstance","logOut","logOutInstance","deleteUser","userId","deleteUserInstance","editUser","editUserInstance","abortFetch","abort","abortChannelDelete","abortChannelEdit","abortChannelCreate","abortGroupLeave","abortGroupDelete","abortUserSign","abortGroupCreate","abortGroupEdit","abortGroupJoin","abortLogOut","abortDeleteUser","abortEditUser","abortAll","userAccount","sign","edit","abortSign","abortEdit","abortDelete","userGroups","fetch","new","join","leave","abortNew","abortJoin","abortLeave","userChannels"],"sources":["/home/agreus/Documents/webdev/mercury-messenger/client/src/utils/axios.js"],"sourcesContent":["import { useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport axiosRetry from \"axios-retry\";\n\nimport { FlashContext } from \"../components/context/FlashContext\";\n\nexport default function useAxiosInstance() {\n  const { pushFlashMessage } = useContext(FlashContext);\n  const navigate = useNavigate();\n\n  // axios instance config\n  const instanceConfig = {\n    baseURL: `${window.location.protocol}//${window.location.hostname}:3000`, // ! temporary\n    withCredentials: true,\n  };\n\n  // axios request config\n  const headerConfig = {\n    headers: { \"Content-Type\": \"multipart/form-data\" },\n  };\n  const timeout = { timeout: 10000 };\n\n  // axios abort controllers\n  const fetchController = new AbortController();\n  const deleteChannelController = new AbortController();\n  const editChannelController = new AbortController();\n  const newChannelController = new AbortController();\n  const leaveGroupController = new AbortController();\n  const deleteGroupController = new AbortController();\n  const signUserController = new AbortController();\n  const newGroupController = new AbortController();\n  const editGroupController = new AbortController();\n  const joinGroupController = new AbortController();\n  const logOutController = new AbortController();\n  const deleteUserController = new AbortController();\n  const editUserController = new AbortController();\n\n  // retry config\n  const infiniteRetry = {\n    retries: Infinity, // number of retries\n    retryDelay: () => 5000, // accepts a function, has retryCount passed to it, must return a number\n  };\n  const threeRetries = {\n    retries: 3, // number of retries\n    retryDelay: () => 5000, // accepts a function, has retryCount passed to it, must return a number\n  };\n\n  // retry conditions\n  function handleErrors(err) {\n    // console.log(err);\n    // if (err.response.data.messages) {\n    //   console.log(\"flash handler\");\n    //   pushFlashMessage(err.response.data.messages);\n    // } // flash handler\n    if (err.code === \"ECONNABORTED\") {\n      handleIfTimedOut(err); // todo handle timeouts\n    } else toLoginOnUnauthorized(err);\n  }\n  function toLoginOnUnauthorized(err) {\n    // if retry condition is not specified, by default idempotent requests are retried\n    const noRetryCodes = [400, 403, 404, 406, 500];\n\n    if (err.response.status === 401) navigate(\"/login\");\n    else if (noRetryCodes.includes(err.response.status)) return false;\n    else return true;\n  }\n  function handleIfTimedOut(err) {\n    pushFlashMessage([{ message: \"Request timed out\", type: \"error\" }]);\n    return false;\n  }\n\n  // axios instances\n  function fetchGroups() {\n    const fetchGroupsInstance = axios.create(instanceConfig);\n\n    const config = { ...headerConfig };\n    config.signal = fetchController.signal;\n\n    axiosRetry(fetchGroupsInstance, {\n      ...infiniteRetry,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return fetchGroupsInstance.get(\"/g\", config);\n  }\n\n  function deleteChannel(idString) {\n    const deleteChannelInstance = axios.create(instanceConfig);\n\n    const config = { ...headerConfig, ...timeout };\n    config.signal = deleteChannelController.signal;\n\n    axiosRetry(deleteChannelInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return deleteChannelInstance.delete(`/c/${idString}`, config);\n  }\n\n  function editChannel(idString, data) {\n    const editChannelInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = editChannelController.signal;\n\n    axiosRetry(editChannelInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return editChannelInstance.patch(`/c/${idString}`, data, config);\n  }\n\n  function newChannel(data) {\n    const newChannelInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = newChannelController.signal;\n\n    axiosRetry(newChannelInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return newChannelInstance.post(\"/c\", data, config);\n  }\n\n  function leaveGroup(idString) {\n    const leaveGroupInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = leaveGroupController.signal;\n\n    axiosRetry(leaveGroupInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return leaveGroupInstance.patch(`/g/${idString}`, config);\n  }\n\n  function deleteGroup(idString) {\n    const deleteGroupInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = leaveGroupController.signal;\n\n    axiosRetry(deleteGroupInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return deleteGroupInstance.delete(`/g/${idString}`, config);\n  }\n\n  function signUser(route, data) {\n    const userSignInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = signUserController.signal;\n\n    axiosRetry(userSignInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return userSignInstance.post(route, data, config);\n  }\n\n  function newGroup(data) {\n    const newGroupInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = signUserController.signal;\n\n    axiosRetry(newGroupInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return newGroupInstance.post(\"/g\", data, config);\n  }\n\n  function editGroup(idString, data) {\n    const editGroupInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = editChannelController.signal;\n\n    axiosRetry(editGroupInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return editGroupInstance.put(`/g/${idString}`, data, config);\n  }\n\n  function joinGroup(code) {\n    const joinGroupInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = joinGroupController.signal;\n\n    axiosRetry(joinGroupInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return joinGroupInstance.post(code, config);\n  }\n\n  function logOut() {\n    const logOutInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = logOutController.signal;\n\n    axiosRetry(logOutInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return logOutInstance.delete(\"/u\", config);\n  }\n\n  function deleteUser(userId, data) {\n    const deleteUserInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = deleteUserController.signal;\n\n    axiosRetry(deleteUserInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return deleteUserInstance.put(`/u/${userId}`, data, config);\n  }\n\n  function editUser(userId, data) {\n    const editUserInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = editUserController.signal;\n\n    axiosRetry(editUserInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return editUserInstance.patch(`/u/${userId}`, data, config);\n  }\n\n  // axios abort calls\n  function abortFetch() {\n    fetchController.abort();\n  }\n  function abortChannelDelete() {\n    deleteChannelController.abort();\n  }\n  function abortChannelEdit() {\n    deleteChannelController.abort();\n  }\n  function abortChannelCreate() {\n    newChannelController.abort();\n  }\n  function abortGroupLeave() {\n    leaveGroupController.abort();\n  }\n  function abortGroupDelete() {\n    deleteGroupController.abort();\n  }\n  function abortUserSign() {\n    signUserController.abort();\n  }\n  function abortGroupCreate() {\n    newGroupController.abort();\n  }\n  function abortGroupEdit() {\n    editGroupController.abort();\n  }\n  function abortGroupJoin() {\n    joinGroupController.abort();\n  }\n  function abortLogOut() {\n    joinGroupController.abort();\n  }\n  function abortDeleteUser() {\n    deleteUserController.abort();\n  }\n  function abortEditUser() {\n    editUserController.abort();\n  }\n  // todo: set aborts\n  function abortAll() {\n    fetchController.abort();\n    deleteChannelController.abort();\n    deleteChannelController.abort();\n    newChannelController.abort();\n    leaveGroupController.abort();\n    deleteGroupController.abort();\n    signUserController.abort();\n    newGroupController.abort();\n    editGroupController.abort();\n    joinGroupController.abort();\n    joinGroupController.abort();\n    deleteUserController.abort();\n    editUserController.abort();\n  }\n\n  return {\n    userAccount: {\n      sign: signUser,\n      edit: editUser,\n      delete: deleteUser,\n      logOut,\n      abortSign: abortUserSign,\n      abortEdit: abortEditUser,\n      abortDelete: abortDeleteUser,\n      abortLogOut,\n    },\n    userGroups: {\n      fetch: fetchGroups,\n      new: newGroup,\n      edit: editGroup,\n      join: joinGroup,\n      leave: leaveGroup,\n      delete: deleteGroup,\n      abortFetch,\n      abortNew: abortGroupCreate,\n      abortEdit: abortGroupEdit,\n      abortJoin: abortGroupJoin,\n      abortLeave: abortGroupLeave,\n      abortDelete: abortGroupDelete,\n    },\n    userChannels: {\n      new: newChannel,\n      edit: editChannel,\n      delete: deleteChannel,\n      abortNew: abortChannelCreate,\n      abortEdit: abortChannelEdit,\n      abortDelete: abortChannelDelete,\n    },\n    abortAll,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}