{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext } from \"react\";\nimport * as dotenv from \"dotenv\"; // !\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport axiosRetry from \"axios-retry\";\n\n// context\nimport { FlashContext } from \"../components/context/FlashContext\";\ndotenv.config({\n  path: \"/\"\n});\nexport default function useAxiosInstance() {\n  _s();\n  const {\n    pushFlashMessage\n  } = useContext(FlashContext);\n  const navigate = useNavigate();\n  const PORT = process.env.PORT; // ! not available here\n\n  console.log(PORT); // ! undefined\n\n  // axios instance config\n  const instanceConfig = {\n    baseURL: `${window.location.protocol}//${window.location.hostname}:${PORT}`,\n    // ! temporary\n    withCredentials: true\n  };\n\n  // axios request config\n  const headerConfig = {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  };\n  const timeout = {\n    timeout: 10000\n  };\n\n  // axios abort controllers\n  const fetchController = new AbortController();\n  const deleteChannelController = new AbortController();\n  const editChannelController = new AbortController();\n  const newChannelController = new AbortController();\n  const leaveGroupController = new AbortController();\n  const deleteGroupController = new AbortController();\n  const signUserController = new AbortController();\n  const newGroupController = new AbortController();\n  const editGroupController = new AbortController();\n  const joinGroupController = new AbortController();\n  const logOutController = new AbortController();\n  const deleteUserController = new AbortController();\n  const editUserController = new AbortController();\n\n  // retry config\n  const infiniteRetry = {\n    retries: Infinity,\n    // number of retries\n    retryDelay: () => 5000 // accepts a function, has retryCount passed to it, must return a number\n  };\n\n  const threeRetries = {\n    retries: 3,\n    // number of retries\n    retryDelay: () => 5000 // accepts a function, has retryCount passed to it, must return a number\n  };\n\n  // retry conditions\n  function handleErrors(err) {\n    // console.log(err);\n    // if (err.response.data.messages) {\n    //   console.log(\"flash handler\");\n    //   pushFlashMessage(err.response.data.messages);\n    // } // flash handler\n    if (err.code === \"ECONNABORTED\") {\n      handleIfTimedOut(err); // todo handle timeouts\n    } else toLoginOnUnauthorized(err);\n  }\n  function toLoginOnUnauthorized(err) {\n    // if retry condition is not specified, by default idempotent requests are retried\n    const noRetryCodes = [400, 403, 404, 406, 500];\n    if (err.response.status === 401) navigate(\"/login\");else if (noRetryCodes.includes(err.response.status)) return false;else return true;\n  }\n  function handleIfTimedOut(err) {\n    pushFlashMessage([{\n      message: \"Request timed out\",\n      type: \"error\"\n    }]);\n    return false;\n  }\n\n  // axios instances\n  function fetchGroups() {\n    const fetchGroupsInstance = axios.create(instanceConfig);\n    const config = {\n      ...headerConfig\n    };\n    config.signal = fetchController.signal;\n    axiosRetry(fetchGroupsInstance, {\n      ...infiniteRetry,\n      retryCondition: err => handleErrors(err)\n    });\n    return fetchGroupsInstance.get(\"/g\", config);\n  }\n  function deleteChannel(idString) {\n    const deleteChannelInstance = axios.create(instanceConfig);\n    const config = {\n      ...headerConfig,\n      ...timeout\n    };\n    config.signal = deleteChannelController.signal;\n    axiosRetry(deleteChannelInstance, {\n      ...threeRetries,\n      retryCondition: err => handleErrors(err)\n    });\n    return deleteChannelInstance.delete(`/c/${idString}`, config);\n  }\n  function editChannel(idString, data) {\n    const editChannelInstance = axios.create(instanceConfig);\n    const config = {\n      ...headerConfig,\n      ...timeout\n    };\n    config.signal = editChannelController.signal;\n    axiosRetry(editChannelInstance, {\n      ...threeRetries,\n      retryCondition: err => handleErrors(err)\n    });\n    return editChannelInstance.patch(`/c/${idString}`, data, config);\n  }\n  function newChannel(data) {\n    const newChannelInstance = axios.create(instanceConfig);\n    const config = {\n      ...headerConfig,\n      ...timeout\n    };\n    config.signal = newChannelController.signal;\n    axiosRetry(newChannelInstance, {\n      ...threeRetries,\n      retryCondition: err => handleErrors(err)\n    });\n    return newChannelInstance.post(\"/c\", data, config);\n  }\n  function leaveGroup(idString) {\n    const leaveGroupInstance = axios.create(instanceConfig);\n    const config = {\n      ...headerConfig,\n      ...timeout\n    };\n    config.signal = leaveGroupController.signal;\n    axiosRetry(leaveGroupInstance, {\n      ...threeRetries,\n      retryCondition: err => handleErrors(err)\n    });\n    return leaveGroupInstance.patch(`/g/${idString}`, config);\n  }\n  function deleteGroup(idString) {\n    const deleteGroupInstance = axios.create(instanceConfig);\n    const config = {\n      ...headerConfig,\n      ...timeout\n    };\n    config.signal = leaveGroupController.signal;\n    axiosRetry(deleteGroupInstance, {\n      ...threeRetries,\n      retryCondition: err => handleErrors(err)\n    });\n    return deleteGroupInstance.delete(`/g/${idString}`, config);\n  }\n  function signUser(route, data) {\n    const userSignInstance = axios.create(instanceConfig);\n    const config = {\n      ...headerConfig,\n      ...timeout\n    };\n    config.signal = signUserController.signal;\n    axiosRetry(userSignInstance, {\n      ...threeRetries,\n      retryCondition: err => handleErrors(err)\n    });\n    return userSignInstance.post(route, data, config);\n  }\n  function newGroup(data) {\n    const newGroupInstance = axios.create(instanceConfig);\n    const config = {\n      ...headerConfig,\n      ...timeout\n    };\n    config.signal = signUserController.signal;\n    axiosRetry(newGroupInstance, {\n      ...threeRetries,\n      retryCondition: err => handleErrors(err)\n    });\n    return newGroupInstance.post(\"/g\", data, config);\n  }\n  function editGroup(idString, data) {\n    const editGroupInstance = axios.create(instanceConfig);\n    const config = {\n      ...headerConfig,\n      ...timeout\n    };\n    config.signal = editChannelController.signal;\n    axiosRetry(editGroupInstance, {\n      ...threeRetries,\n      retryCondition: err => handleErrors(err)\n    });\n    return editGroupInstance.put(`/g/${idString}`, data, config);\n  }\n  function joinGroup(code) {\n    const joinGroupInstance = axios.create(instanceConfig);\n    const config = {\n      ...headerConfig,\n      ...timeout\n    };\n    config.signal = joinGroupController.signal;\n    axiosRetry(joinGroupInstance, {\n      ...threeRetries,\n      retryCondition: err => handleErrors(err)\n    });\n    return joinGroupInstance.post(code, config);\n  }\n  function logOut() {\n    const logOutInstance = axios.create(instanceConfig);\n    const config = {\n      ...headerConfig,\n      ...timeout\n    };\n    config.signal = logOutController.signal;\n    axiosRetry(logOutInstance, {\n      ...threeRetries,\n      retryCondition: err => handleErrors(err)\n    });\n    return logOutInstance.delete(\"/u\", config);\n  }\n  function deleteUser(userId, data) {\n    const deleteUserInstance = axios.create(instanceConfig);\n    const config = {\n      ...headerConfig,\n      ...timeout\n    };\n    config.signal = deleteUserController.signal;\n    axiosRetry(deleteUserInstance, {\n      ...threeRetries,\n      retryCondition: err => handleErrors(err)\n    });\n    return deleteUserInstance.put(`/u/${userId}`, data, config);\n  }\n  function editUser(userId, data) {\n    const editUserInstance = axios.create(instanceConfig);\n    const config = {\n      ...headerConfig,\n      ...timeout\n    };\n    config.signal = editUserController.signal;\n    axiosRetry(editUserInstance, {\n      ...threeRetries,\n      retryCondition: err => handleErrors(err)\n    });\n    return editUserInstance.patch(`/u/${userId}`, data, config);\n  }\n\n  // axios abort calls\n  function abortFetch() {\n    fetchController.abort();\n  }\n  function abortChannelDelete() {\n    deleteChannelController.abort();\n  }\n  function abortChannelEdit() {\n    deleteChannelController.abort();\n  }\n  function abortChannelCreate() {\n    newChannelController.abort();\n  }\n  function abortGroupLeave() {\n    leaveGroupController.abort();\n  }\n  function abortGroupDelete() {\n    deleteGroupController.abort();\n  }\n  function abortUserSign() {\n    signUserController.abort();\n  }\n  function abortGroupCreate() {\n    newGroupController.abort();\n  }\n  function abortGroupEdit() {\n    editGroupController.abort();\n  }\n  function abortGroupJoin() {\n    joinGroupController.abort();\n  }\n  function abortLogOut() {\n    joinGroupController.abort();\n  }\n  function abortDeleteUser() {\n    deleteUserController.abort();\n  }\n  function abortEditUser() {\n    editUserController.abort();\n  }\n  // todo: set aborts\n  function abortAll() {\n    fetchController.abort();\n    deleteChannelController.abort();\n    deleteChannelController.abort();\n    newChannelController.abort();\n    leaveGroupController.abort();\n    deleteGroupController.abort();\n    signUserController.abort();\n    newGroupController.abort();\n    editGroupController.abort();\n    joinGroupController.abort();\n    joinGroupController.abort();\n    deleteUserController.abort();\n    editUserController.abort();\n  }\n  return {\n    userAccount: {\n      sign: signUser,\n      edit: editUser,\n      delete: deleteUser,\n      logOut,\n      abortSign: abortUserSign,\n      abortEdit: abortEditUser,\n      abortDelete: abortDeleteUser,\n      abortLogOut\n    },\n    userGroups: {\n      fetch: fetchGroups,\n      new: newGroup,\n      edit: editGroup,\n      join: joinGroup,\n      leave: leaveGroup,\n      delete: deleteGroup,\n      abortFetch,\n      abortNew: abortGroupCreate,\n      abortEdit: abortGroupEdit,\n      abortJoin: abortGroupJoin,\n      abortLeave: abortGroupLeave,\n      abortDelete: abortGroupDelete\n    },\n    userChannels: {\n      new: newChannel,\n      edit: editChannel,\n      delete: deleteChannel,\n      abortNew: abortChannelCreate,\n      abortEdit: abortChannelEdit,\n      abortDelete: abortChannelDelete\n    },\n    abortAll\n  };\n}\n_s(useAxiosInstance, \"XxA8i1zBTmn364OhUioVD+tXWOo=\", false, function () {\n  return [useNavigate];\n});","map":{"version":3,"names":["useContext","dotenv","useNavigate","axios","axiosRetry","FlashContext","config","path","useAxiosInstance","pushFlashMessage","navigate","PORT","process","env","console","log","instanceConfig","baseURL","window","location","protocol","hostname","withCredentials","headerConfig","headers","timeout","fetchController","AbortController","deleteChannelController","editChannelController","newChannelController","leaveGroupController","deleteGroupController","signUserController","newGroupController","editGroupController","joinGroupController","logOutController","deleteUserController","editUserController","infiniteRetry","retries","Infinity","retryDelay","threeRetries","handleErrors","err","code","handleIfTimedOut","toLoginOnUnauthorized","noRetryCodes","response","status","includes","message","type","fetchGroups","fetchGroupsInstance","create","signal","retryCondition","get","deleteChannel","idString","deleteChannelInstance","delete","editChannel","data","editChannelInstance","patch","newChannel","newChannelInstance","post","leaveGroup","leaveGroupInstance","deleteGroup","deleteGroupInstance","signUser","route","userSignInstance","newGroup","newGroupInstance","editGroup","editGroupInstance","put","joinGroup","joinGroupInstance","logOut","logOutInstance","deleteUser","userId","deleteUserInstance","editUser","editUserInstance","abortFetch","abort","abortChannelDelete","abortChannelEdit","abortChannelCreate","abortGroupLeave","abortGroupDelete","abortUserSign","abortGroupCreate","abortGroupEdit","abortGroupJoin","abortLogOut","abortDeleteUser","abortEditUser","abortAll","userAccount","sign","edit","abortSign","abortEdit","abortDelete","userGroups","fetch","new","join","leave","abortNew","abortJoin","abortLeave","userChannels"],"sources":["/home/agreus/Documents/webdev/mercury-messenger/client/src/utils/axios.js"],"sourcesContent":["import { useContext } from \"react\";\nimport * as dotenv from \"dotenv\"; // !\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport axiosRetry from \"axios-retry\";\n\n// context\nimport { FlashContext } from \"../components/context/FlashContext\";\n\ndotenv.config({ path: \"/\" });\n\nexport default function useAxiosInstance() {\n  const { pushFlashMessage } = useContext(FlashContext);\n  const navigate = useNavigate();\n\n  const PORT = process.env.PORT; // ! not available here\n\n  console.log(PORT); // ! undefined\n\n  // axios instance config\n  const instanceConfig = {\n    baseURL: `${window.location.protocol}//${window.location.hostname}:${PORT}`, // ! temporary\n    withCredentials: true,\n  };\n\n  // axios request config\n  const headerConfig = {\n    headers: { \"Content-Type\": \"multipart/form-data\" },\n  };\n  const timeout = { timeout: 10000 };\n\n  // axios abort controllers\n  const fetchController = new AbortController();\n  const deleteChannelController = new AbortController();\n  const editChannelController = new AbortController();\n  const newChannelController = new AbortController();\n  const leaveGroupController = new AbortController();\n  const deleteGroupController = new AbortController();\n  const signUserController = new AbortController();\n  const newGroupController = new AbortController();\n  const editGroupController = new AbortController();\n  const joinGroupController = new AbortController();\n  const logOutController = new AbortController();\n  const deleteUserController = new AbortController();\n  const editUserController = new AbortController();\n\n  // retry config\n  const infiniteRetry = {\n    retries: Infinity, // number of retries\n    retryDelay: () => 5000, // accepts a function, has retryCount passed to it, must return a number\n  };\n  const threeRetries = {\n    retries: 3, // number of retries\n    retryDelay: () => 5000, // accepts a function, has retryCount passed to it, must return a number\n  };\n\n  // retry conditions\n  function handleErrors(err) {\n    // console.log(err);\n    // if (err.response.data.messages) {\n    //   console.log(\"flash handler\");\n    //   pushFlashMessage(err.response.data.messages);\n    // } // flash handler\n    if (err.code === \"ECONNABORTED\") {\n      handleIfTimedOut(err); // todo handle timeouts\n    } else toLoginOnUnauthorized(err);\n  }\n  function toLoginOnUnauthorized(err) {\n    // if retry condition is not specified, by default idempotent requests are retried\n    const noRetryCodes = [400, 403, 404, 406, 500];\n\n    if (err.response.status === 401) navigate(\"/login\");\n    else if (noRetryCodes.includes(err.response.status)) return false;\n    else return true;\n  }\n  function handleIfTimedOut(err) {\n    pushFlashMessage([{ message: \"Request timed out\", type: \"error\" }]);\n    return false;\n  }\n\n  // axios instances\n  function fetchGroups() {\n    const fetchGroupsInstance = axios.create(instanceConfig);\n\n    const config = { ...headerConfig };\n    config.signal = fetchController.signal;\n\n    axiosRetry(fetchGroupsInstance, {\n      ...infiniteRetry,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return fetchGroupsInstance.get(\"/g\", config);\n  }\n\n  function deleteChannel(idString) {\n    const deleteChannelInstance = axios.create(instanceConfig);\n\n    const config = { ...headerConfig, ...timeout };\n    config.signal = deleteChannelController.signal;\n\n    axiosRetry(deleteChannelInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return deleteChannelInstance.delete(`/c/${idString}`, config);\n  }\n\n  function editChannel(idString, data) {\n    const editChannelInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = editChannelController.signal;\n\n    axiosRetry(editChannelInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return editChannelInstance.patch(`/c/${idString}`, data, config);\n  }\n\n  function newChannel(data) {\n    const newChannelInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = newChannelController.signal;\n\n    axiosRetry(newChannelInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return newChannelInstance.post(\"/c\", data, config);\n  }\n\n  function leaveGroup(idString) {\n    const leaveGroupInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = leaveGroupController.signal;\n\n    axiosRetry(leaveGroupInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return leaveGroupInstance.patch(`/g/${idString}`, config);\n  }\n\n  function deleteGroup(idString) {\n    const deleteGroupInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = leaveGroupController.signal;\n\n    axiosRetry(deleteGroupInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return deleteGroupInstance.delete(`/g/${idString}`, config);\n  }\n\n  function signUser(route, data) {\n    const userSignInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = signUserController.signal;\n\n    axiosRetry(userSignInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return userSignInstance.post(route, data, config);\n  }\n\n  function newGroup(data) {\n    const newGroupInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = signUserController.signal;\n\n    axiosRetry(newGroupInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return newGroupInstance.post(\"/g\", data, config);\n  }\n\n  function editGroup(idString, data) {\n    const editGroupInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = editChannelController.signal;\n\n    axiosRetry(editGroupInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return editGroupInstance.put(`/g/${idString}`, data, config);\n  }\n\n  function joinGroup(code) {\n    const joinGroupInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = joinGroupController.signal;\n\n    axiosRetry(joinGroupInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return joinGroupInstance.post(code, config);\n  }\n\n  function logOut() {\n    const logOutInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = logOutController.signal;\n\n    axiosRetry(logOutInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return logOutInstance.delete(\"/u\", config);\n  }\n\n  function deleteUser(userId, data) {\n    const deleteUserInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = deleteUserController.signal;\n\n    axiosRetry(deleteUserInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return deleteUserInstance.put(`/u/${userId}`, data, config);\n  }\n\n  function editUser(userId, data) {\n    const editUserInstance = axios.create(instanceConfig);\n    const config = { ...headerConfig, ...timeout };\n    config.signal = editUserController.signal;\n\n    axiosRetry(editUserInstance, {\n      ...threeRetries,\n      retryCondition: (err) => handleErrors(err),\n    });\n\n    return editUserInstance.patch(`/u/${userId}`, data, config);\n  }\n\n  // axios abort calls\n  function abortFetch() {\n    fetchController.abort();\n  }\n  function abortChannelDelete() {\n    deleteChannelController.abort();\n  }\n  function abortChannelEdit() {\n    deleteChannelController.abort();\n  }\n  function abortChannelCreate() {\n    newChannelController.abort();\n  }\n  function abortGroupLeave() {\n    leaveGroupController.abort();\n  }\n  function abortGroupDelete() {\n    deleteGroupController.abort();\n  }\n  function abortUserSign() {\n    signUserController.abort();\n  }\n  function abortGroupCreate() {\n    newGroupController.abort();\n  }\n  function abortGroupEdit() {\n    editGroupController.abort();\n  }\n  function abortGroupJoin() {\n    joinGroupController.abort();\n  }\n  function abortLogOut() {\n    joinGroupController.abort();\n  }\n  function abortDeleteUser() {\n    deleteUserController.abort();\n  }\n  function abortEditUser() {\n    editUserController.abort();\n  }\n  // todo: set aborts\n  function abortAll() {\n    fetchController.abort();\n    deleteChannelController.abort();\n    deleteChannelController.abort();\n    newChannelController.abort();\n    leaveGroupController.abort();\n    deleteGroupController.abort();\n    signUserController.abort();\n    newGroupController.abort();\n    editGroupController.abort();\n    joinGroupController.abort();\n    joinGroupController.abort();\n    deleteUserController.abort();\n    editUserController.abort();\n  }\n\n  return {\n    userAccount: {\n      sign: signUser,\n      edit: editUser,\n      delete: deleteUser,\n      logOut,\n      abortSign: abortUserSign,\n      abortEdit: abortEditUser,\n      abortDelete: abortDeleteUser,\n      abortLogOut,\n    },\n    userGroups: {\n      fetch: fetchGroups,\n      new: newGroup,\n      edit: editGroup,\n      join: joinGroup,\n      leave: leaveGroup,\n      delete: deleteGroup,\n      abortFetch,\n      abortNew: abortGroupCreate,\n      abortEdit: abortGroupEdit,\n      abortJoin: abortGroupJoin,\n      abortLeave: abortGroupLeave,\n      abortDelete: abortGroupDelete,\n    },\n    userChannels: {\n      new: newChannel,\n      edit: editChannel,\n      delete: deleteChannel,\n      abortNew: abortChannelCreate,\n      abortEdit: abortChannelEdit,\n      abortDelete: abortChannelDelete,\n    },\n    abortAll,\n  };\n}\n"],"mappings":";AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,OAAO,KAAKC,MAAM,MAAM,QAAQ,CAAC,CAAC;AAClC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,UAAU,MAAM,aAAa;;AAEpC;AACA,SAASC,YAAY,QAAQ,oCAAoC;AAEjEJ,MAAM,CAACK,MAAM,CAAC;EAAEC,IAAI,EAAE;AAAI,CAAC,CAAC;AAE5B,eAAe,SAASC,gBAAgB,GAAG;EAAA;EACzC,MAAM;IAAEC;EAAiB,CAAC,GAAGT,UAAU,CAACK,YAAY,CAAC;EACrD,MAAMK,QAAQ,GAAGR,WAAW,EAAE;EAE9B,MAAMS,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CAAC;;EAE/BG,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC,CAAC,CAAC;;EAEnB;EACA,MAAMK,cAAc,GAAG;IACrBC,OAAO,EAAG,GAAEC,MAAM,CAACC,QAAQ,CAACC,QAAS,KAAIF,MAAM,CAACC,QAAQ,CAACE,QAAS,IAAGV,IAAK,EAAC;IAAE;IAC7EW,eAAe,EAAE;EACnB,CAAC;;EAED;EACA,MAAMC,YAAY,GAAG;IACnBC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAsB;EACnD,CAAC;EACD,MAAMC,OAAO,GAAG;IAAEA,OAAO,EAAE;EAAM,CAAC;;EAElC;EACA,MAAMC,eAAe,GAAG,IAAIC,eAAe,EAAE;EAC7C,MAAMC,uBAAuB,GAAG,IAAID,eAAe,EAAE;EACrD,MAAME,qBAAqB,GAAG,IAAIF,eAAe,EAAE;EACnD,MAAMG,oBAAoB,GAAG,IAAIH,eAAe,EAAE;EAClD,MAAMI,oBAAoB,GAAG,IAAIJ,eAAe,EAAE;EAClD,MAAMK,qBAAqB,GAAG,IAAIL,eAAe,EAAE;EACnD,MAAMM,kBAAkB,GAAG,IAAIN,eAAe,EAAE;EAChD,MAAMO,kBAAkB,GAAG,IAAIP,eAAe,EAAE;EAChD,MAAMQ,mBAAmB,GAAG,IAAIR,eAAe,EAAE;EACjD,MAAMS,mBAAmB,GAAG,IAAIT,eAAe,EAAE;EACjD,MAAMU,gBAAgB,GAAG,IAAIV,eAAe,EAAE;EAC9C,MAAMW,oBAAoB,GAAG,IAAIX,eAAe,EAAE;EAClD,MAAMY,kBAAkB,GAAG,IAAIZ,eAAe,EAAE;;EAEhD;EACA,MAAMa,aAAa,GAAG;IACpBC,OAAO,EAAEC,QAAQ;IAAE;IACnBC,UAAU,EAAE,MAAM,IAAI,CAAE;EAC1B,CAAC;;EACD,MAAMC,YAAY,GAAG;IACnBH,OAAO,EAAE,CAAC;IAAE;IACZE,UAAU,EAAE,MAAM,IAAI,CAAE;EAC1B,CAAC;;EAED;EACA,SAASE,YAAY,CAACC,GAAG,EAAE;IACzB;IACA;IACA;IACA;IACA;IACA,IAAIA,GAAG,CAACC,IAAI,KAAK,cAAc,EAAE;MAC/BC,gBAAgB,CAACF,GAAG,CAAC,CAAC,CAAC;IACzB,CAAC,MAAMG,qBAAqB,CAACH,GAAG,CAAC;EACnC;EACA,SAASG,qBAAqB,CAACH,GAAG,EAAE;IAClC;IACA,MAAMI,YAAY,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAE9C,IAAIJ,GAAG,CAACK,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE1C,QAAQ,CAAC,QAAQ,CAAC,CAAC,KAC/C,IAAIwC,YAAY,CAACG,QAAQ,CAACP,GAAG,CAACK,QAAQ,CAACC,MAAM,CAAC,EAAE,OAAO,KAAK,CAAC,KAC7D,OAAO,IAAI;EAClB;EACA,SAASJ,gBAAgB,CAACF,GAAG,EAAE;IAC7BrC,gBAAgB,CAAC,CAAC;MAAE6C,OAAO,EAAE,mBAAmB;MAAEC,IAAI,EAAE;IAAQ,CAAC,CAAC,CAAC;IACnE,OAAO,KAAK;EACd;;EAEA;EACA,SAASC,WAAW,GAAG;IACrB,MAAMC,mBAAmB,GAAGtD,KAAK,CAACuD,MAAM,CAAC1C,cAAc,CAAC;IAExD,MAAMV,MAAM,GAAG;MAAE,GAAGiB;IAAa,CAAC;IAClCjB,MAAM,CAACqD,MAAM,GAAGjC,eAAe,CAACiC,MAAM;IAEtCvD,UAAU,CAACqD,mBAAmB,EAAE;MAC9B,GAAGjB,aAAa;MAChBoB,cAAc,EAAGd,GAAG,IAAKD,YAAY,CAACC,GAAG;IAC3C,CAAC,CAAC;IAEF,OAAOW,mBAAmB,CAACI,GAAG,CAAC,IAAI,EAAEvD,MAAM,CAAC;EAC9C;EAEA,SAASwD,aAAa,CAACC,QAAQ,EAAE;IAC/B,MAAMC,qBAAqB,GAAG7D,KAAK,CAACuD,MAAM,CAAC1C,cAAc,CAAC;IAE1D,MAAMV,MAAM,GAAG;MAAE,GAAGiB,YAAY;MAAE,GAAGE;IAAQ,CAAC;IAC9CnB,MAAM,CAACqD,MAAM,GAAG/B,uBAAuB,CAAC+B,MAAM;IAE9CvD,UAAU,CAAC4D,qBAAqB,EAAE;MAChC,GAAGpB,YAAY;MACfgB,cAAc,EAAGd,GAAG,IAAKD,YAAY,CAACC,GAAG;IAC3C,CAAC,CAAC;IAEF,OAAOkB,qBAAqB,CAACC,MAAM,CAAE,MAAKF,QAAS,EAAC,EAAEzD,MAAM,CAAC;EAC/D;EAEA,SAAS4D,WAAW,CAACH,QAAQ,EAAEI,IAAI,EAAE;IACnC,MAAMC,mBAAmB,GAAGjE,KAAK,CAACuD,MAAM,CAAC1C,cAAc,CAAC;IACxD,MAAMV,MAAM,GAAG;MAAE,GAAGiB,YAAY;MAAE,GAAGE;IAAQ,CAAC;IAC9CnB,MAAM,CAACqD,MAAM,GAAG9B,qBAAqB,CAAC8B,MAAM;IAE5CvD,UAAU,CAACgE,mBAAmB,EAAE;MAC9B,GAAGxB,YAAY;MACfgB,cAAc,EAAGd,GAAG,IAAKD,YAAY,CAACC,GAAG;IAC3C,CAAC,CAAC;IAEF,OAAOsB,mBAAmB,CAACC,KAAK,CAAE,MAAKN,QAAS,EAAC,EAAEI,IAAI,EAAE7D,MAAM,CAAC;EAClE;EAEA,SAASgE,UAAU,CAACH,IAAI,EAAE;IACxB,MAAMI,kBAAkB,GAAGpE,KAAK,CAACuD,MAAM,CAAC1C,cAAc,CAAC;IACvD,MAAMV,MAAM,GAAG;MAAE,GAAGiB,YAAY;MAAE,GAAGE;IAAQ,CAAC;IAC9CnB,MAAM,CAACqD,MAAM,GAAG7B,oBAAoB,CAAC6B,MAAM;IAE3CvD,UAAU,CAACmE,kBAAkB,EAAE;MAC7B,GAAG3B,YAAY;MACfgB,cAAc,EAAGd,GAAG,IAAKD,YAAY,CAACC,GAAG;IAC3C,CAAC,CAAC;IAEF,OAAOyB,kBAAkB,CAACC,IAAI,CAAC,IAAI,EAAEL,IAAI,EAAE7D,MAAM,CAAC;EACpD;EAEA,SAASmE,UAAU,CAACV,QAAQ,EAAE;IAC5B,MAAMW,kBAAkB,GAAGvE,KAAK,CAACuD,MAAM,CAAC1C,cAAc,CAAC;IACvD,MAAMV,MAAM,GAAG;MAAE,GAAGiB,YAAY;MAAE,GAAGE;IAAQ,CAAC;IAC9CnB,MAAM,CAACqD,MAAM,GAAG5B,oBAAoB,CAAC4B,MAAM;IAE3CvD,UAAU,CAACsE,kBAAkB,EAAE;MAC7B,GAAG9B,YAAY;MACfgB,cAAc,EAAGd,GAAG,IAAKD,YAAY,CAACC,GAAG;IAC3C,CAAC,CAAC;IAEF,OAAO4B,kBAAkB,CAACL,KAAK,CAAE,MAAKN,QAAS,EAAC,EAAEzD,MAAM,CAAC;EAC3D;EAEA,SAASqE,WAAW,CAACZ,QAAQ,EAAE;IAC7B,MAAMa,mBAAmB,GAAGzE,KAAK,CAACuD,MAAM,CAAC1C,cAAc,CAAC;IACxD,MAAMV,MAAM,GAAG;MAAE,GAAGiB,YAAY;MAAE,GAAGE;IAAQ,CAAC;IAC9CnB,MAAM,CAACqD,MAAM,GAAG5B,oBAAoB,CAAC4B,MAAM;IAE3CvD,UAAU,CAACwE,mBAAmB,EAAE;MAC9B,GAAGhC,YAAY;MACfgB,cAAc,EAAGd,GAAG,IAAKD,YAAY,CAACC,GAAG;IAC3C,CAAC,CAAC;IAEF,OAAO8B,mBAAmB,CAACX,MAAM,CAAE,MAAKF,QAAS,EAAC,EAAEzD,MAAM,CAAC;EAC7D;EAEA,SAASuE,QAAQ,CAACC,KAAK,EAAEX,IAAI,EAAE;IAC7B,MAAMY,gBAAgB,GAAG5E,KAAK,CAACuD,MAAM,CAAC1C,cAAc,CAAC;IACrD,MAAMV,MAAM,GAAG;MAAE,GAAGiB,YAAY;MAAE,GAAGE;IAAQ,CAAC;IAC9CnB,MAAM,CAACqD,MAAM,GAAG1B,kBAAkB,CAAC0B,MAAM;IAEzCvD,UAAU,CAAC2E,gBAAgB,EAAE;MAC3B,GAAGnC,YAAY;MACfgB,cAAc,EAAGd,GAAG,IAAKD,YAAY,CAACC,GAAG;IAC3C,CAAC,CAAC;IAEF,OAAOiC,gBAAgB,CAACP,IAAI,CAACM,KAAK,EAAEX,IAAI,EAAE7D,MAAM,CAAC;EACnD;EAEA,SAAS0E,QAAQ,CAACb,IAAI,EAAE;IACtB,MAAMc,gBAAgB,GAAG9E,KAAK,CAACuD,MAAM,CAAC1C,cAAc,CAAC;IACrD,MAAMV,MAAM,GAAG;MAAE,GAAGiB,YAAY;MAAE,GAAGE;IAAQ,CAAC;IAC9CnB,MAAM,CAACqD,MAAM,GAAG1B,kBAAkB,CAAC0B,MAAM;IAEzCvD,UAAU,CAAC6E,gBAAgB,EAAE;MAC3B,GAAGrC,YAAY;MACfgB,cAAc,EAAGd,GAAG,IAAKD,YAAY,CAACC,GAAG;IAC3C,CAAC,CAAC;IAEF,OAAOmC,gBAAgB,CAACT,IAAI,CAAC,IAAI,EAAEL,IAAI,EAAE7D,MAAM,CAAC;EAClD;EAEA,SAAS4E,SAAS,CAACnB,QAAQ,EAAEI,IAAI,EAAE;IACjC,MAAMgB,iBAAiB,GAAGhF,KAAK,CAACuD,MAAM,CAAC1C,cAAc,CAAC;IACtD,MAAMV,MAAM,GAAG;MAAE,GAAGiB,YAAY;MAAE,GAAGE;IAAQ,CAAC;IAC9CnB,MAAM,CAACqD,MAAM,GAAG9B,qBAAqB,CAAC8B,MAAM;IAE5CvD,UAAU,CAAC+E,iBAAiB,EAAE;MAC5B,GAAGvC,YAAY;MACfgB,cAAc,EAAGd,GAAG,IAAKD,YAAY,CAACC,GAAG;IAC3C,CAAC,CAAC;IAEF,OAAOqC,iBAAiB,CAACC,GAAG,CAAE,MAAKrB,QAAS,EAAC,EAAEI,IAAI,EAAE7D,MAAM,CAAC;EAC9D;EAEA,SAAS+E,SAAS,CAACtC,IAAI,EAAE;IACvB,MAAMuC,iBAAiB,GAAGnF,KAAK,CAACuD,MAAM,CAAC1C,cAAc,CAAC;IACtD,MAAMV,MAAM,GAAG;MAAE,GAAGiB,YAAY;MAAE,GAAGE;IAAQ,CAAC;IAC9CnB,MAAM,CAACqD,MAAM,GAAGvB,mBAAmB,CAACuB,MAAM;IAE1CvD,UAAU,CAACkF,iBAAiB,EAAE;MAC5B,GAAG1C,YAAY;MACfgB,cAAc,EAAGd,GAAG,IAAKD,YAAY,CAACC,GAAG;IAC3C,CAAC,CAAC;IAEF,OAAOwC,iBAAiB,CAACd,IAAI,CAACzB,IAAI,EAAEzC,MAAM,CAAC;EAC7C;EAEA,SAASiF,MAAM,GAAG;IAChB,MAAMC,cAAc,GAAGrF,KAAK,CAACuD,MAAM,CAAC1C,cAAc,CAAC;IACnD,MAAMV,MAAM,GAAG;MAAE,GAAGiB,YAAY;MAAE,GAAGE;IAAQ,CAAC;IAC9CnB,MAAM,CAACqD,MAAM,GAAGtB,gBAAgB,CAACsB,MAAM;IAEvCvD,UAAU,CAACoF,cAAc,EAAE;MACzB,GAAG5C,YAAY;MACfgB,cAAc,EAAGd,GAAG,IAAKD,YAAY,CAACC,GAAG;IAC3C,CAAC,CAAC;IAEF,OAAO0C,cAAc,CAACvB,MAAM,CAAC,IAAI,EAAE3D,MAAM,CAAC;EAC5C;EAEA,SAASmF,UAAU,CAACC,MAAM,EAAEvB,IAAI,EAAE;IAChC,MAAMwB,kBAAkB,GAAGxF,KAAK,CAACuD,MAAM,CAAC1C,cAAc,CAAC;IACvD,MAAMV,MAAM,GAAG;MAAE,GAAGiB,YAAY;MAAE,GAAGE;IAAQ,CAAC;IAC9CnB,MAAM,CAACqD,MAAM,GAAGrB,oBAAoB,CAACqB,MAAM;IAE3CvD,UAAU,CAACuF,kBAAkB,EAAE;MAC7B,GAAG/C,YAAY;MACfgB,cAAc,EAAGd,GAAG,IAAKD,YAAY,CAACC,GAAG;IAC3C,CAAC,CAAC;IAEF,OAAO6C,kBAAkB,CAACP,GAAG,CAAE,MAAKM,MAAO,EAAC,EAAEvB,IAAI,EAAE7D,MAAM,CAAC;EAC7D;EAEA,SAASsF,QAAQ,CAACF,MAAM,EAAEvB,IAAI,EAAE;IAC9B,MAAM0B,gBAAgB,GAAG1F,KAAK,CAACuD,MAAM,CAAC1C,cAAc,CAAC;IACrD,MAAMV,MAAM,GAAG;MAAE,GAAGiB,YAAY;MAAE,GAAGE;IAAQ,CAAC;IAC9CnB,MAAM,CAACqD,MAAM,GAAGpB,kBAAkB,CAACoB,MAAM;IAEzCvD,UAAU,CAACyF,gBAAgB,EAAE;MAC3B,GAAGjD,YAAY;MACfgB,cAAc,EAAGd,GAAG,IAAKD,YAAY,CAACC,GAAG;IAC3C,CAAC,CAAC;IAEF,OAAO+C,gBAAgB,CAACxB,KAAK,CAAE,MAAKqB,MAAO,EAAC,EAAEvB,IAAI,EAAE7D,MAAM,CAAC;EAC7D;;EAEA;EACA,SAASwF,UAAU,GAAG;IACpBpE,eAAe,CAACqE,KAAK,EAAE;EACzB;EACA,SAASC,kBAAkB,GAAG;IAC5BpE,uBAAuB,CAACmE,KAAK,EAAE;EACjC;EACA,SAASE,gBAAgB,GAAG;IAC1BrE,uBAAuB,CAACmE,KAAK,EAAE;EACjC;EACA,SAASG,kBAAkB,GAAG;IAC5BpE,oBAAoB,CAACiE,KAAK,EAAE;EAC9B;EACA,SAASI,eAAe,GAAG;IACzBpE,oBAAoB,CAACgE,KAAK,EAAE;EAC9B;EACA,SAASK,gBAAgB,GAAG;IAC1BpE,qBAAqB,CAAC+D,KAAK,EAAE;EAC/B;EACA,SAASM,aAAa,GAAG;IACvBpE,kBAAkB,CAAC8D,KAAK,EAAE;EAC5B;EACA,SAASO,gBAAgB,GAAG;IAC1BpE,kBAAkB,CAAC6D,KAAK,EAAE;EAC5B;EACA,SAASQ,cAAc,GAAG;IACxBpE,mBAAmB,CAAC4D,KAAK,EAAE;EAC7B;EACA,SAASS,cAAc,GAAG;IACxBpE,mBAAmB,CAAC2D,KAAK,EAAE;EAC7B;EACA,SAASU,WAAW,GAAG;IACrBrE,mBAAmB,CAAC2D,KAAK,EAAE;EAC7B;EACA,SAASW,eAAe,GAAG;IACzBpE,oBAAoB,CAACyD,KAAK,EAAE;EAC9B;EACA,SAASY,aAAa,GAAG;IACvBpE,kBAAkB,CAACwD,KAAK,EAAE;EAC5B;EACA;EACA,SAASa,QAAQ,GAAG;IAClBlF,eAAe,CAACqE,KAAK,EAAE;IACvBnE,uBAAuB,CAACmE,KAAK,EAAE;IAC/BnE,uBAAuB,CAACmE,KAAK,EAAE;IAC/BjE,oBAAoB,CAACiE,KAAK,EAAE;IAC5BhE,oBAAoB,CAACgE,KAAK,EAAE;IAC5B/D,qBAAqB,CAAC+D,KAAK,EAAE;IAC7B9D,kBAAkB,CAAC8D,KAAK,EAAE;IAC1B7D,kBAAkB,CAAC6D,KAAK,EAAE;IAC1B5D,mBAAmB,CAAC4D,KAAK,EAAE;IAC3B3D,mBAAmB,CAAC2D,KAAK,EAAE;IAC3B3D,mBAAmB,CAAC2D,KAAK,EAAE;IAC3BzD,oBAAoB,CAACyD,KAAK,EAAE;IAC5BxD,kBAAkB,CAACwD,KAAK,EAAE;EAC5B;EAEA,OAAO;IACLc,WAAW,EAAE;MACXC,IAAI,EAAEjC,QAAQ;MACdkC,IAAI,EAAEnB,QAAQ;MACd3B,MAAM,EAAEwB,UAAU;MAClBF,MAAM;MACNyB,SAAS,EAAEX,aAAa;MACxBY,SAAS,EAAEN,aAAa;MACxBO,WAAW,EAAER,eAAe;MAC5BD;IACF,CAAC;IACDU,UAAU,EAAE;MACVC,KAAK,EAAE5D,WAAW;MAClB6D,GAAG,EAAErC,QAAQ;MACb+B,IAAI,EAAE7B,SAAS;MACfoC,IAAI,EAAEjC,SAAS;MACfkC,KAAK,EAAE9C,UAAU;MACjBR,MAAM,EAAEU,WAAW;MACnBmB,UAAU;MACV0B,QAAQ,EAAElB,gBAAgB;MAC1BW,SAAS,EAAEV,cAAc;MACzBkB,SAAS,EAAEjB,cAAc;MACzBkB,UAAU,EAAEvB,eAAe;MAC3Be,WAAW,EAAEd;IACf,CAAC;IACDuB,YAAY,EAAE;MACZN,GAAG,EAAE/C,UAAU;MACfyC,IAAI,EAAE7C,WAAW;MACjBD,MAAM,EAAEH,aAAa;MACrB0D,QAAQ,EAAEtB,kBAAkB;MAC5Be,SAAS,EAAEhB,gBAAgB;MAC3BiB,WAAW,EAAElB;IACf,CAAC;IACDY;EACF,CAAC;AACH;AAAC,GA7UuBpG,gBAAgB;EAAA,QAErBN,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}