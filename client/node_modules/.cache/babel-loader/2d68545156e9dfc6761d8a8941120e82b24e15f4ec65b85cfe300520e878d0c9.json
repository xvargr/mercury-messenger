{"ast":null,"code":"import{useRef}from\"react\";import{BanIcon,UserAddIcon}from\"@heroicons/react/outline\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ExpandContextButton(props){var expandRef=useRef().current;var textRef=useRef();var delay=100;//ms\nfunction expandOnHover(e){// add dynamic classes on mouse enter\n// remove them on mouse leave\nif(e.type===\"mouseenter\"){textRef.current.style.width=props.type===\"promote\"?\"4.5rem\":\"2.5rem\";textRef.current.innerText=props.type;textRef.current.style.marginLeft=\"1rem\";setTimeout(function(){textRef.current.style.opacity=\"1\";},delay);}else if(e.type===\"mouseleave\"){textRef.current.style.opacity=\"0\";setTimeout(function(){textRef.current.style.marginLeft=\"0\";textRef.current.style.width=\"0\";textRef.current.innerText=null;},delay);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(props.type===\"promote\"?\"hover:bg-yellow-500\":\"hover:bg-mexican-red-500\",\" transition-colors duration-75 ease-out p-0.5 rounded-full flex relative cursor-pointer\"),onMouseEnter:expandOnHover,onMouseLeave:expandOnHover,onClick:props.onClick,ref:expandRef,children:[props.type===\"promote\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"transition-all ease-out duration-100 pointer-events-none\",style:{opacity:0,width:0,pointerEvents:\"none\"},ref:textRef}),/*#__PURE__*/_jsx(UserAddIcon,{className:\"text-gray-900 w-6 shrink-0 pointer-events-none\"})]}):null,props.type===\"kick\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"transition-all ease-out duration-100 pointer-events-none\",style:{opacity:0,width:0,pointerEvents:\"none\"},ref:textRef}),/*#__PURE__*/_jsx(BanIcon,{className:\"text-gray-900 w-6 shrink-0 pointer-events-none\"})]}):null]});}function MemberOptions(props){var memberData=props.memberData,isAdmin=props.isAdmin,promoteEvent=props.promoteEvent,kickEvent=props.kickEvent,selected=props.selected;var dynamicPromoteStyle=\"border-yellow-500\";var dynamicKickStyle=\"border-mexican-red-500\";if(!memberData)return/*#__PURE__*/_jsx(\"div\",{className:\"w-4/5 h-16 lg:w-5/12 min-w-max border-transparent bg-gray-600 border-2 box-content hover:bg-gray-500 transition-colors ease-in duration-75 p-2 m-2 rounded-md flex justify-between shrink-0 animate-pulse\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"w-4/5 lg:w-5/12 min-w-max \".concat(selected===\"kick\"?dynamicKickStyle:selected===\"promote\"?dynamicPromoteStyle:\"border-transparent\",\" bg-gray-600 border-2 box-content hover:bg-gray-500 transition-colors ease-in duration-75 p-2 m-2 rounded-md flex justify-between shrink-0\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-3/4 flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-18 mr-2 shrink-0\",children:/*#__PURE__*/_jsx(\"img\",{src:memberData.userImage.thumbnailSmall||memberData.userImage.url,alt:\"user\",className:\"rounded-full h-16 w-16\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"w-32 font-bold shrink-0 whitespace-nowrap overflow-hidden text-ellipsis\",style:{color:memberData.userColor},children:[memberData.username,/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 text-sm opacity-40\",children:!isAdmin||\" (admin)\"})]})]}),isAdmin||/*#__PURE__*/_jsxs(\"div\",{className:\"w-10 flex flex-col justify-between items-end\",children:[/*#__PURE__*/_jsx(ExpandContextButton,{type:\"promote\",onClick:function onClick(){return promoteEvent(memberData._id);}}),/*#__PURE__*/_jsx(ExpandContextButton,{type:\"kick\",onClick:function onClick(){return kickEvent(memberData._id);}})]})]});}export default MemberOptions;","map":{"version":3,"names":["useRef","BanIcon","UserAddIcon","ExpandContextButton","props","expandRef","current","textRef","delay","expandOnHover","e","type","style","width","innerText","marginLeft","setTimeout","opacity","onClick","pointerEvents","MemberOptions","memberData","isAdmin","promoteEvent","kickEvent","selected","dynamicPromoteStyle","dynamicKickStyle","userImage","thumbnailSmall","url","color","userColor","username","_id"],"sources":["/home/agreus/Documents/webdev/mercury-messenger/client/src/components/ui/MemberOptions.js"],"sourcesContent":["import { useRef } from \"react\";\nimport { BanIcon, UserAddIcon } from \"@heroicons/react/outline\";\n\nfunction ExpandContextButton(props) {\n  const expandRef = useRef().current;\n  const textRef = useRef();\n  const delay = 100; //ms\n\n  function expandOnHover(e) {\n    // add dynamic classes on mouse enter\n    // remove them on mouse leave\n    if (e.type === \"mouseenter\") {\n      textRef.current.style.width =\n        props.type === \"promote\" ? \"4.5rem\" : \"2.5rem\";\n      textRef.current.innerText = props.type;\n      textRef.current.style.marginLeft = \"1rem\";\n      setTimeout(() => {\n        textRef.current.style.opacity = \"1\";\n      }, delay);\n    } else if (e.type === \"mouseleave\") {\n      textRef.current.style.opacity = \"0\";\n      setTimeout(() => {\n        textRef.current.style.marginLeft = \"0\";\n        textRef.current.style.width = \"0\";\n        textRef.current.innerText = null;\n      }, delay);\n    }\n  }\n\n  return (\n    <div\n      className={`${\n        props.type === \"promote\"\n          ? \"hover:bg-yellow-500\"\n          : \"hover:bg-mexican-red-500\"\n      } transition-colors duration-75 ease-out p-0.5 rounded-full flex relative cursor-pointer`}\n      onMouseEnter={expandOnHover}\n      onMouseLeave={expandOnHover}\n      onClick={props.onClick}\n      ref={expandRef}\n    >\n      {props.type === \"promote\" ? (\n        <>\n          <span\n            className=\"transition-all ease-out duration-100 pointer-events-none\"\n            style={{ opacity: 0, width: 0, pointerEvents: \"none\" }}\n            ref={textRef}\n          ></span>\n          <UserAddIcon className=\"text-gray-900 w-6 shrink-0 pointer-events-none\" />\n        </>\n      ) : null}\n      {props.type === \"kick\" ? (\n        <>\n          <span\n            className=\"transition-all ease-out duration-100 pointer-events-none\"\n            style={{ opacity: 0, width: 0, pointerEvents: \"none\" }}\n            ref={textRef}\n          ></span>\n          <BanIcon className=\"text-gray-900 w-6 shrink-0 pointer-events-none\" />\n        </>\n      ) : null}\n    </div>\n  );\n}\n\nfunction MemberOptions(props) {\n  const { memberData, isAdmin, promoteEvent, kickEvent, selected } = props;\n  const dynamicPromoteStyle = \"border-yellow-500\";\n  const dynamicKickStyle = \"border-mexican-red-500\";\n\n  if (!memberData)\n    return (\n      <div className=\"w-4/5 h-16 lg:w-5/12 min-w-max border-transparent bg-gray-600 border-2 box-content hover:bg-gray-500 transition-colors ease-in duration-75 p-2 m-2 rounded-md flex justify-between shrink-0 animate-pulse\"></div>\n    );\n\n  return (\n    <div\n      className={`w-4/5 lg:w-5/12 min-w-max ${\n        selected === \"kick\"\n          ? dynamicKickStyle\n          : selected === \"promote\"\n          ? dynamicPromoteStyle\n          : \"border-transparent\"\n      } bg-gray-600 border-2 box-content hover:bg-gray-500 transition-colors ease-in duration-75 p-2 m-2 rounded-md flex justify-between shrink-0`}\n    >\n      <div className=\"w-3/4 flex\">\n        <div className=\"w-18 mr-2 shrink-0\">\n          <img\n            src={\n              memberData.userImage.thumbnailSmall || memberData.userImage.url\n            }\n            alt=\"user\"\n            className=\"rounded-full h-16 w-16\"\n          />\n        </div>\n        <span\n          className={`w-32 font-bold shrink-0 whitespace-nowrap overflow-hidden text-ellipsis`}\n          style={{ color: memberData.userColor }}\n        >\n          {memberData.username}\n          <span className=\"text-gray-900 text-sm opacity-40\">\n            {!isAdmin || \" (admin)\"}\n          </span>\n        </span>\n      </div>\n      {isAdmin || (\n        <div className=\"w-10 flex flex-col justify-between items-end\">\n          <ExpandContextButton\n            type=\"promote\"\n            onClick={() => promoteEvent(memberData._id)}\n          />\n          <ExpandContextButton\n            type=\"kick\"\n            onClick={() => kickEvent(memberData._id)}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default MemberOptions;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}